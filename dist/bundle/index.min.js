!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.mscgenjs=e():t.mscgenjs=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=24)}([function(t,e,r){"use strict";e.__esModule=!0;var n=Object.freeze({"|||":"empty","...":"empty","---":"empty","->":"directional","=>":"directional","=>>":"directional",">>":"directional",":>":"directional","-x":"directional","<-":"directional","<=":"directional","<<=":"directional","<<":"directional","<:":"directional","x-":"directional",note:"box",box:"box",abox:"box",rbox:"box","<->":"bidirectional","<=>":"bidirectional","<<=>>":"bidirectional","<<>>":"bidirectional","<:>":"bidirectional","--":"nondirectional","==":"nondirectional","..":"nondirectional","::":"nondirectional",alt:"inline_expression",else:"inline_expression",opt:"inline_expression",break:"inline_expression",par:"inline_expression",seq:"inline_expression",strict:"inline_expression",neg:"inline_expression",critical:"inline_expression",ignore:"inline_expression",consider:"inline_expression",assert:"inline_expression",loop:"inline_expression",ref:"inline_expression",exc:"inline_expression"});e.default=function(t){return n[t]}},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(36)),i=n(r(2)),a=n(r(39)),u=o,s={};e.init=function(t,e){i.init(t),s=Object.assign({LINE_WIDTH:2,FONT_SIZE:12},e)},e.createSVG=function(t,e,r){return u=function(t){return Boolean(t)?"wobbly"===t?a:o:u}(r),i.createSVG(t,e)},e.updateSVG=i.updateSVG,e.createTitle=i.createTitle,e.createDesc=i.createDesc,e.createDefs=i.createDefs,e.createTSpan=i.createTSpan,e.createRect=function(t,e){return u.createRect(t,e)},e.createRBox=function(t,e){return u.createRBox(t,e)},e.createABox=function(t,e){return u.createABox(t,e)},e.createNote=function(t,e){return u.createNote(t,e)},e.createEdgeRemark=function(t,e){return u.createEdgeRemark(t,{class:e.class,color:e.color,bgColor:e.bgColor,foldSize:e.foldSize,lineWidth:s.LINE_WIDTH})},e.createText=i.createText,e.createDiagonalText=i.createDiagonalText,e.createLine=function(t,e){return Boolean(e)&&Boolean(e.doubleLine)?(e.lineWidth||(e.lineWidth=s.LINE_WIDTH),u.createDoubleLine(t,e)):u.createSingleLine(t,e)},e.createUTurn=i.createUTurn,e.createGroup=i.createGroup,e.createMarkerPath=i.createMarkerPath,e.createMarkerPolygon=i.createMarkerPolygon},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=n(r(37)),a=o(r(38)),u=o(r(9));function s(t){return u.default(t.x,2).toString()+","+u.default(t.y,2).toString()+" "}function c(t,e,r){return t+s({x:e,y:r})}function l(t,e,r,n){return i.createElement("marker",{orient:r,id:t,class:e,viewBox:Boolean(n)?n:"0 0 10 10",refX:"9",refY:"3",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10"})}e.point2String=s,e.pathPoint2String=c;function f(t,e){var r=i.createElement("tspan"),n=i.createTextNode(t);return r.appendChild(n),e?function(t,e){var r=i.createElement("a");return i.setAttributesNS(r,i.XLINKNS,{"xlink:href":t,"xlink:title":t}),r.appendChild(e),r}(e,r):r}function d(t,e,r){var n=Object.assign({class:null,url:null,id:null,idurl:null},r),o=i.createElement("text",{x:u.default(e.x,2).toString(),y:u.default(e.y,2).toString(),class:n.class});if(o.appendChild(f(t,n.url)),n.id){var a=f(" ["+n.id+"]",n.idurl);a.setAttribute("style","vertical-align:text-top;font-size:0.7em;text-anchor:start;"),o.appendChild(a)}return o}function h(t,e){var r=Object.assign({class:null,style:null,color:null,bgColor:null},e);return p(i.createElement("path",{d:t,class:r.class,style:r.style}),r.color,r.bgColor)}function p(t,e,r){var n="";return r&&(n+="fill:"+r+";"),e&&(n+="stroke:"+e+";"),i.setAttribute(t,"style",n)}e.createTSpan=f,e.createText=d,e.createPath=h,e.createSingleLine=function(t,e){return i.createElement("line",{x1:u.default(t.xFrom,2).toString(),y1:u.default(t.yFrom,2).toString(),x2:u.default(t.xTo,2).toString(),y2:u.default(t.yTo,2).toString(),class:e?e.class:null})},e.createRect=function(t,e){var r=Object.assign({class:null,color:null,bgColor:null,rx:null,ry:null},e);return p(i.createElement("rect",{width:u.default(t.width,2),height:u.default(t.height,2),x:u.default(t.x,2),y:u.default(t.y,2),rx:u.default(r.rx,2),ry:u.default(r.ry,2),class:r.class}),r.color,r.bgColor)},e.createUTurn=function(t,e,r){var n=Object.assign({class:null,dontHitHome:!1,lineWidth:1},r),o=n.dontHitHome?t.x+7.5*n.lineWidth:t.x;return h(c("M",t.x,t.y-t.height/2)+c("C",t.x+t.width,t.y-7.5*n.lineWidth/2)+s({x:t.x+t.width,y:e+0})+s({x:o,y:e}),{class:n.class})},e.createGroup=function(t,e){return i.createElement("g",{id:t,class:e})},e.createMarkerPath=function(t,e,r){var n=l(t,"arrow-marker","auto");return n.appendChild(h(e,{class:"arrow-style",style:"stroke-dasharray:100,1;stroke:"+r||!1})),n},e.createMarkerPolygon=function(t,e,r){var n=l(t,"arrow-marker","auto");return n.appendChild(i.createElement("polygon",{points:e,class:"arrow-style",stroke:r||"black",fill:r||"black"})),n},e.createTitle=function(t){var e=i.createElement("title"),r=i.createTextNode(t);return e.appendChild(r),e},e.createDiagonalText=function(t,e,r){return i.setAttributes(d(t,{x:e.width/2,y:e.height/2},{class:r}),{transform:"rotate("+u.default(a.default(e),2).toString()+" "+u.default(e.width/2,2).toString()+" "+u.default(e.height/2,2).toString()+")"})},e.createDesc=function(){return i.createElement("desc")},e.createDefs=function(){return i.createElement("defs")},e.createSVG=function(t,e){return i.createElement("svg",{version:"1.1",id:t,class:e,xmlns:i.SVGNS,"xmlns:xlink":i.XLINKNS,width:"0",height:"0"})},e.init=i.init,e.updateSVG=i.setAttributes},function(t,e,r){"use strict";function n(t,e){return void 0===e||"*"===e||t.some((function(t){return t.name===e}))}e.__esModule=!0,e.nameValue2Option=function(t,e){var r={};return r[t.toLowerCase()]=e,r},e.flattenBoolean=function(t){return["true","on","1"].includes(t.toLowerCase())},e.entityExists=n,e.isMscGenKeyword=function(t){return["box","abox","rbox","note","msc","hscale","width","arcgradient","wordwraparcs","label","color","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"].includes(t)};var o=function(t,e){this.name="EntityNotDefinedError",this.message=function(t,e){return"Entity '"+t+"' in arc '"+e.from+" "+e.kind+" "+e.to+"' is not defined."}(t,e)};e.EntityNotDefinedError=o,e.checkForUndeclaredEntities=function t(e,r){(r||[]).forEach((function(r){r.forEach((function(r){if(r.from&&!n(e,r.from))throw new o(r.from,r);if(r.to&&!n(e,r.to))throw new o(r.to,r);r.arcs&&t(e,r.arcs)}))}))},e.getMetaInfo=function(t,e){var r=function(t){return!!t&&(t.hasOwnProperty("watermark")||t.hasOwnProperty("wordwrapentities")||t.hasOwnProperty("wordwrapboxes")||t.hasOwnProperty("width")&&"auto"===t.width)}(t),n=function(t){return(t||[]).some((function(t){return t.some((function(t){return["alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"].includes(t.kind)}))}))}(e);return{extendedOptions:r,extendedArcTypes:n,extendedFeatures:r||n}}},function(t,e,r){(function(t,r){var n="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a="[object Map]",u="[object Set]",s=/\w*$/,c=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,f={};f[n]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object DataView]"]=f["[object Boolean]"]=f["[object Date]"]=f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f[a]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f[u]=f["[object String]"]=f["[object Symbol]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Error]"]=f[o]=f["[object WeakMap]"]=!1;var d="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,p=d||h||Function("return this")(),g=e&&!e.nodeType&&e,b=g&&"object"==typeof r&&r&&!r.nodeType&&r,y=b&&b.exports===g;function m(t,e){return t.set(e[0],e[1]),t}function v(t,e){return t.add(e),t}function x(t,e,r,n){var o=-1,i=t?t.length:0;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function w(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function _(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function C(t,e){return function(r){return t(e(r))}}function A(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var S,k=Array.prototype,L=Function.prototype,E=Object.prototype,T=p["__core-js_shared__"],j=(S=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",M=L.toString,O=E.hasOwnProperty,F=E.toString,I=RegExp("^"+M.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=y?p.Buffer:void 0,D=p.Symbol,N=p.Uint8Array,B=C(Object.getPrototypeOf,Object),H=Object.create,W=E.propertyIsEnumerable,R=k.splice,G=Object.getOwnPropertySymbols,z=P?P.isBuffer:void 0,X=C(Object.keys,Object),V=bt(p,"DataView"),q=bt(p,"Map"),U=bt(p,"Promise"),$=bt(p,"Set"),K=bt(p,"WeakMap"),Z=bt(Object,"create"),Y=wt(V),J=wt(q),Q=wt(U),tt=wt($),et=wt(K),rt=D?D.prototype:void 0,nt=rt?rt.valueOf:void 0;function ot(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function it(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function at(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ut(t){this.__data__=new it(t)}function st(t,e){var r=Ct(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&At(t)}(t)&&O.call(t,"callee")&&(!W.call(t,"callee")||F.call(t)==n)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],o=r.length,i=!!o;for(var a in t)!e&&!O.call(t,a)||i&&("length"==a||vt(a,o))||r.push(a);return r}function ct(t,e,r){var n=t[e];O.call(t,e)&&_t(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function lt(t,e){for(var r=t.length;r--;)if(_t(t[r][0],e))return r;return-1}function ft(t,e,r,c,l,d,h){var p;if(c&&(p=d?c(t,l,d,h):c(t)),void 0!==p)return p;if(!Lt(t))return t;var g=Ct(t);if(g){if(p=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&O.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,p)}else{var b=mt(t),y=b==o||b==i;if(St(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if("[object Object]"==b||b==n||y&&!d){if(w(t))return d?t:{};if(p=function(t){return"function"!=typeof t.constructor||xt(t)?{}:(e=B(t),Lt(e)?H(e):{});var e}(y?{}:t),!e)return function(t,e){return pt(t,yt(t),e)}(t,function(t,e){return t&&pt(e,Et(e),t)}(p,t))}else{if(!f[b])return d?t:{};p=function(t,e,r,n){var o=t.constructor;switch(e){case"[object ArrayBuffer]":return ht(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var r=e?ht(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?ht(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case a:return function(t,e,r){return x(e?r(_(t),!0):_(t),m,new t.constructor)}(t,n,r);case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,s.exec(t));return e.lastIndex=t.lastIndex,e}(t);case u:return function(t,e,r){return x(e?r(A(t),!0):A(t),v,new t.constructor)}(t,n,r);case"[object Symbol]":return i=t,nt?Object(nt.call(i)):{}}var i}(t,b,ft,e)}}h||(h=new ut);var C=h.get(t);if(C)return C;if(h.set(t,p),!g)var S=r?function(t){return function(t,e,r){var n=e(t);return Ct(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,Et,yt)}(t):Et(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(S||t,(function(n,o){S&&(n=t[o=n]),ct(p,o,ft(n,e,r,c,o,t,h))})),p}function dt(t){return!(!Lt(t)||(e=t,j&&j in e))&&(kt(t)||w(t)?I:c).test(wt(t));var e}function ht(t){var e=new t.constructor(t.byteLength);return new N(e).set(new N(t)),e}function pt(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var a=e[o],u=n?n(r[a],t[a],a,r,t):void 0;ct(r,a,void 0===u?t[a]:u)}return r}function gt(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function bt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return dt(r)?r:void 0}ot.prototype.clear=function(){this.__data__=Z?Z(null):{}},ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},ot.prototype.get=function(t){var e=this.__data__;if(Z){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return O.call(e,t)?e[t]:void 0},ot.prototype.has=function(t){var e=this.__data__;return Z?void 0!==e[t]:O.call(e,t)},ot.prototype.set=function(t,e){return this.__data__[t]=Z&&void 0===e?"__lodash_hash_undefined__":e,this},it.prototype.clear=function(){this.__data__=[]},it.prototype.delete=function(t){var e=this.__data__,r=lt(e,t);return!(r<0)&&(r==e.length-1?e.pop():R.call(e,r,1),!0)},it.prototype.get=function(t){var e=this.__data__,r=lt(e,t);return r<0?void 0:e[r][1]},it.prototype.has=function(t){return lt(this.__data__,t)>-1},it.prototype.set=function(t,e){var r=this.__data__,n=lt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},at.prototype.clear=function(){this.__data__={hash:new ot,map:new(q||it),string:new ot}},at.prototype.delete=function(t){return gt(this,t).delete(t)},at.prototype.get=function(t){return gt(this,t).get(t)},at.prototype.has=function(t){return gt(this,t).has(t)},at.prototype.set=function(t,e){return gt(this,t).set(t,e),this},ut.prototype.clear=function(){this.__data__=new it},ut.prototype.delete=function(t){return this.__data__.delete(t)},ut.prototype.get=function(t){return this.__data__.get(t)},ut.prototype.has=function(t){return this.__data__.has(t)},ut.prototype.set=function(t,e){var r=this.__data__;if(r instanceof it){var n=r.__data__;if(!q||n.length<199)return n.push([t,e]),this;r=this.__data__=new at(n)}return r.set(t,e),this};var yt=G?C(G,Object):function(){return[]},mt=function(t){return F.call(t)};function vt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||l.test(t))&&t>-1&&t%1==0&&t<e}function xt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||E)}function wt(t){if(null!=t){try{return M.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function _t(t,e){return t===e||t!=t&&e!=e}(V&&"[object DataView]"!=mt(new V(new ArrayBuffer(1)))||q&&mt(new q)!=a||U&&"[object Promise]"!=mt(U.resolve())||$&&mt(new $)!=u||K&&"[object WeakMap]"!=mt(new K))&&(mt=function(t){var e=F.call(t),r="[object Object]"==e?t.constructor:void 0,n=r?wt(r):void 0;if(n)switch(n){case Y:return"[object DataView]";case J:return a;case Q:return"[object Promise]";case tt:return u;case et:return"[object WeakMap]"}return e});var Ct=Array.isArray;function At(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!kt(t)}var St=z||function(){return!1};function kt(t){var e=Lt(t)?F.call(t):"";return e==o||e==i}function Lt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Et(t){return At(t)?st(t):function(t){if(!xt(t))return X(t);var e=[];for(var r in Object(t))O.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}r.exports=function(t){return ft(t,!0,!0)}}).call(this,r(8),r(33)(t))},function(t,e,r){"use strict";e.__esModule=!0,e.default={LINE_WIDTH:2,FONT_SIZE:12}},function(t,e,r){"use strict";e.__esModule=!0,e.determineStartCorrection=function(t,e,r){var n=0;return!e.includes("nodi")&&e.includes("bidi")&&(n=t.xTo>t.xFrom?7.5*r:-7.5*r),n},e.determineEndCorrection=function(t,e,r){var n=0;return e.includes("nodi")||(n=t.xTo>t.xFrom?-7.5*r:7.5*r),n},e.getDirection=function(t){var e=t.xTo>t.xFrom?1:-1;return{signX:e,signY:t.yTo>t.yFrom?1:-1,dy:e*(t.yTo-t.yFrom)/(t.xTo-t.xFrom)}}},function(t,e){var r=/^(?:0|[1-9]\d*)$/;function n(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var o,i,a=Object.prototype,u=a.hasOwnProperty,s=a.toString,c=a.propertyIsEnumerable,l=(o=Object.keys,i=Object,function(t){return o(i(t))}),f=Math.max,d=!c.call({valueOf:1},"valueOf");function h(t,e){var r=m(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&v(t)}(t)&&u.call(t,"callee")&&(!c.call(t,"callee")||"[object Arguments]"==s.call(t))}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!u.call(t,i)||o&&("length"==i||g(i,n))||r.push(i);return r}function p(t,e,r){var n=t[e];u.call(t,e)&&y(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function g(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<e}function b(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||a)}function y(t,e){return t===e||t!=t&&e!=e}var m=Array.isArray;function v(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!function(t){var e=x(t)?s.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}function x(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var w,_=(w=function(t,e){if(d||b(e)||v(e))!function(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var a=e[o],u=n?n(r[a],t[a],a,r,t):void 0;p(r,a,void 0===u?t[a]:u)}}(e,function(t){return v(t)?h(t):function(t){if(!b(t))return l(t);var e=[];for(var r in Object(t))u.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}(e),t);else for(var r in e)u.call(e,r)&&p(t,r,e[r])},function(t,e){return e=f(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=f(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=r[o];return u[e]=a,n(t,this,u)}}((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,i=n>2?e[2]:void 0;for(o=w.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(t,e,r){if(!x(r))return!1;var n=typeof e;return!!("number"==n?v(r)&&g(e,r.length):"string"==n&&e in r)&&y(r[e],t)}(e[0],e[1],i)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var a=e[r];a&&w(t,a,r,o)}return t})));t.exports=_},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){return e?Math.round(t*Math.pow(10,e))/Math.pow(10,e):Math.round(t)}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(41)),a=o(r(22)),u=o(r(1)),s={},c=a.get("bboxer");function l(t){var e=s.getElementById(c);(e=e||function(t){var e=u.createSVG(t,a.get());return s.body.appendChild(e),e}(c)).appendChild(t);var r=t.getBBox();return e.removeChild(t),r}function f(t){return"function"==typeof t.getBBox?(e=l(t),Math.abs(e.height)>1e5||Math.abs(e.width)>1e5?{height:0,width:0,x:0,y:0}:e):{height:15,width:15,x:2,y:2};var e}e.getBBox=f,e.removeRenderedSVGFromElement=function(t){a.setPrefix(t);var e=s.getElementById(a.get());if(Boolean(e)){var r=s.getElementById(t);r?r.removeChild(e):s.body.removeChild(e)}},e.init=function(t){s=t},e.calculateTextHeight=i.default((function(){return f(u.createText("ÁjyÎ9ƒ@💩",{x:0,y:0})).height})),e.webkitNamespaceBugWorkaround=function(t){return t.replace(/ xlink=/g," xmlns:xlink=").replace(/ href=/g," xlink:href=")}},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(3)),i=n(r(16)),a=function(){function t(t){void 0===t&&(t=!1),this.indent="  ",this.space=" ",this.eol="\n",this.config={},!0===t?(this.indent="",this.space="",this.eol=""):(this.indent="  ",this.space=" ",this.eol="\n"),this.init(this.config)}return t.prototype.init=function(t){this.config=Object.assign({},this.getConfig(),t)},t.prototype.render=function(t){var e="";return t.precomment&&(e+=this.renderComments(t.precomment)),e+=this.config.program.opener,t.options&&(e+=this.renderOptions(t.options)),e+=this.renderEntities(t.entities),t.arcs&&(e+=this.renderArcLines(t.arcs,"")),e+=this.config.program.closer},t.prototype.renderEntityName=function(t){return this.isQuotable(t)?'"'+t+'"':t},t.prototype.renderAttribute=function(t){var e="";return t.name&&t.hasOwnProperty("value")&&(e="string"==typeof t.value?this.renderStringAttribute(t):this.renderNonStringAttribute(t)),e},t.prototype.renderComments=function(t){return t.reduce((function(t,e){return t+e}),"")},t.prototype.renderOption=function(t){return t.name+"="+("string"==typeof t.value?'"'+i.escapeString(t.value)+'"':t.value.toString())},t.prototype.optionIsValid=function(t){return!0},t.prototype.renderKind=function(t){return t},t.prototype.renderStringAttribute=function(t){return t.name+'="'+i.escapeString(t.value)+'"'},t.prototype.renderNonStringAttribute=function(t){return t.name+"="+t.value},t.prototype.getConfig=function(){return{supportedOptions:["hscale","width","arcgradient","wordwraparcs","watermark","wordwrapentities","wordwrapboxes"],supportedEntityAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],supportedArcAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip","title","activation"],program:{opener:"msc"+this.space+"{"+this.eol,closer:"}"},option:{opener:this.indent,separator:","+this.eol+this.indent,closer:";"+this.eol+this.eol},entity:{opener:this.indent,separator:","+this.eol+this.indent,closer:";"+this.eol+this.eol},attribute:{opener:this.space+"[",separator:","+this.space,closer:"]"},arcline:{opener:this.indent,separator:","+this.eol+this.indent,closer:";"+this.eol},inline:{opener:this.space+"{"+this.eol,closer:this.indent+"}"}}},t.prototype.extractSupportedOptions=function(t,e){return e.filter((function(e){return void 0!==t[e]})).map((function(e){return{name:e,value:t[e]}}))},t.prototype.isQuotable=function(t){var e=t.match(/[a-z0-9]+/gi);return e?1!==e.length||o.isMscGenKeyword(t):"*"!==t},t.prototype.renderOptions=function(t){var e=this,r=this.extractSupportedOptions(t,this.config.supportedOptions).filter(this.optionIsValid),n="";if(r.length>0){var o=r.pop();n=r.reduce((function(t,r){return t+e.renderOption(r)+e.config.option.separator}),this.config.option.opener),n+=this.renderOption(o)+this.config.option.closer}return n},t.prototype.renderEntity=function(t){return this.renderEntityName(t.name)+this.renderAttributes(t,this.config.supportedEntityAttributes)},t.prototype.renderEntities=function(t){var e=this,r="";return t.length>0&&(r=t.slice(0,-1).reduce((function(t,r){return t+e.renderEntity(r)+e.config.entity.separator}),this.config.entity.opener),r+=this.renderEntity(t[t.length-1])+this.config.entity.closer),r},t.prototype.renderAttributes=function(t,e){var r=this,n="",o=this.extractSupportedOptions(t,e);if(o.length>0){var i=o.pop();n=o.reduce((function(t,e){return t+r.renderAttribute(e)+r.config.attribute.separator}),this.config.attribute.opener),n+=this.renderAttribute(i)+this.config.attribute.closer}return n},t.prototype.renderArc=function(t,e){var r="";return t.from&&(r+=this.renderEntityName(t.from)+" "),r+=this.renderKind(t.kind),t.to&&(r+=" "+this.renderEntityName(t.to)),r+=this.renderAttributes(t,this.config.supportedArcAttributes),t.arcs&&(r+=this.config.inline.opener,r+=this.renderArcLines(t.arcs,e+this.indent),r+=e+this.config.inline.closer),null===t.arcs&&(r+=this.config.inline.opener,r+=e+this.config.inline.closer),r},t.prototype.renderArcLine=function(t,e){var r=this,n="";return t.length>0&&(n=t.slice(0,-1).reduce((function(t,n){return t+e+r.renderArc(n,e)+r.config.arcline.separator}),this.config.arcline.opener),n+=e+this.renderArc(t[t.length-1],e)+this.config.arcline.closer),n},t.prototype.renderArcLines=function(t,e){var r=this;return t.reduce((function(t,n){return t+r.renderArcLine(n,e)}),"")},t}();e.XuAdaptor=a,e.render=function(t,e){return new a(e).render(t)}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(13);e.default=Object.freeze({inputType:[{name:"mscgen",experimental:!1},{name:"msgenny",experimental:!1},{name:"xu",experimental:!1},{name:"json",experimental:!1},{name:"ast",experimental:!1}],outputType:[{name:"mscgen",experimental:!1},{name:"msgenny",experimental:!1},{name:"xu",experimental:!1},{name:"json",experimental:!1},{name:"ast",experimental:!1},{name:"dot",experimental:!1},{name:"doxygen",experimental:!1}],regularArcTextVerticalAlignment:[{name:"above",experimental:!0},{name:"middle",experimental:!1},{name:"below",experimental:!0}],namedStyle:n.namedStyles.map((function(t){return{name:t.name,description:t.description,experimental:t.experimental,deprecated:t.deprecated}}))})},function(t){t.exports=JSON.parse('{"baseTemplate":"svg.<%=id%>{font-family:Helvetica,sans-serif;font-size:<%=fontSize%>px;font-weight:normal;font-style:normal;text-decoration:none;background-color:white;stroke:black;stroke-width:<%=lineWidth%>}.<%=id%> path, .<%=id%> rect{fill:none}.<%=id%> .label-text-background{fill:white;stroke:white;stroke-width:0}.<%=id%> .bglayer{fill:white;stroke:white;stroke-width:0}.<%=id%> line{}.<%=id%> .return, .<%=id%> .comment{stroke-dasharray:5,3}.<%=id%> .inline_expression_divider{stroke-dasharray:10,5}.<%=id%> text{color:inherit;stroke:none;text-anchor:middle}.<%=id%> text.anchor-start{text-anchor:start}.<%=id%> .arrow-marker{overflow:visible}.<%=id%> .arrow-style{stroke-width:1}.<%=id%> .arcrow, .<%=id%> .arcrowomit, .<%=id%> .emphasised{stroke-linecap:butt}.<%=id%> .arcrowomit{stroke-dasharray:2,2}.<%=id%> .box, .<%=id%> .entity{fill:white;stroke-linejoin:round}.<%=id%> .inherit{stroke:inherit;color:inherit}.<%=id%> .inherit-fill{fill:inherit}.<%=id%> .watermark{font-size:48pt;font-weight:bold;opacity:0.14}","namedStyles":[{"name":"basic","description":"Basic","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> text.entity-text{text-decoration:underline;}"},{"name":"lazy","description":"Lazy","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> text.entity-text{font-weight:bold;}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC}.<%=id%> rect.label-text-background{opacity:0.9}.<%=id%> line.comment,.<%=id%> rect.inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke:grey}"},{"name":"classic","description":"Classic","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> text.entity-text{text-decoration:none}.<%=id%> .entity{stroke:none;}.<%=id%> line,.<%=id%> rect,.<%=id%> path{stroke-width:1px}.<%=id%> .arrow-style{stroke-width:2;}.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke-width: 1px}"},{"name":"fountainpen","description":"Fountain pen","experimental":true,"deprecated":false,"renderMagic":"wobbly","cssBefore":"@import \'https://fonts.googleapis.com/css?family=Gochi+Hand\';","cssAfter":"svg.<%=id%>{font-family:\'Gochi Hand\', cursive;font-size:14px;stroke-opacity:0.4;stroke-linecap:round;background-color:transparent}.<%=id%> text{fill:rgba(0,0,128,0.7)}.<%=id%> marker polygon{fill:rgba(0,0,255,0.4);stroke-linejoin:round}.<%=id%> line, .<%=id%> path, .<%=id%> rect, .<%=id%> polygon{stroke:blue !important}.<%=id%> text.entity-text{font-weight:bold;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC;}.<%=id%> .label-text-background{opacity:0}"},{"name":"cygne","description":"Cygne (best with msgenny)","experimental":true,"deprecated":true,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> line, .<%=id%> path{stroke:#00A1DE}.<%=id%> text{fill:#005B82}.<%=id%> .entity,.<%=id%> .box{fill:#00A1DE;stroke:#00A1DE}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#E77B2F;stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{"name":"pegasse","description":"Pégase (best with msgenny)","experimental":false,"deprecated":true,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> line, .<%=id%> path{stroke:rgba(0, 43, 84, 1)}.<%=id%> text{fill:rgba(0, 43, 84, 1)}.<%=id%> .entity,.<%=id%> .box{fill:rgba(0, 43, 84, 1);stroke:rgba(0, 43, 84, 1)}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:rgba(255, 50, 0, 1);stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{"name":"grayscaled","description":"Grayscaled (not in IE or Safari)","experimental":true,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":"svg.<%=id%>{filter:grayscale(1);-webkit-filter:grayscale(1);}"},{"name":"inverted","description":"Inverted (not in IE or Safari)","experimental":true,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":"svg.<%=id%>{filter:invert(1);-webkit-filter:invert(1);}"},{"name":"noentityboxes","description":"No entity boxes","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> .entity{fill:none;stroke:none;}.<%=id%> text.entity-text{text-decoration:underline;}"}]}')},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(15)),a=n(r(4)),u=o(r(16)),s=n(r(0)),c=n(r(17)),l=n(r(34)),f=0;function d(t){void 0===t.label&&(t.label=t.name)}function h(t){t.label&&(t.label=u.unescapeString(t.label)),t.id&&(t.id=u.unescapeString(t.id))}function p(t){t.label=Boolean(t.label)?t.label:""}function g(t){if(c.default(t.kind)!==t.kind){t.kind=c.default(t.kind);var e=t.from;t.from=t.to,t.to=e}}function b(t,e){!t.linecolor&&e.arclinecolor&&(t.linecolor=e.arclinecolor),!t.textcolor&&e.arctextcolor&&(t.textcolor=e.arctextcolor),!t.textbgcolor&&e.arctextbgcolor&&(t.textbgcolor=e.arctextbgcolor)}function y(t,e){if(void 0===e&&(e=[]),t&&t.from){var r=e.find((function(e){return e.name===t.from}));r&&b(t,r)}}function m(t,e,r,n){var o=[],i=[],u=[];return t.forEach((function(t){if(t.isVirtual=!1,"inline_expression"===s.default(t.kind)){if(t.depth=e,t.isVirtual=!0,t.arcs){var o=a.default(t);o.numberofrows=function t(e){return e.arcs.reduce((function(e,r){return e+(Boolean(r[0].arcs)?t(r[0])+1:0)}),e.arcs.length)}(o),delete o.arcs,i.push(o),t.arcs.forEach((function(t){u=u.concat(m(t,e+1,o.from,o.to)),t.forEach((function(t){b(t,o)}))})),e>f&&(f=e)}else i.push(t);u.push([{kind:"|||",from:t.from,to:t.to,isVirtual:!0}])}else r&&n&&"empty"===s.default(t.kind)&&(t.from=r,t.to=n,t.depth=e),i.push(t)})),o.push(i),o.concat(u)}function v(t){return f=0,{options:l.default(t.options),entities:a.default(t.entities),arcs:(e=t.arcs,e?e.reduce((function(t,e){return t.concat(m(e,0))}),[]):[]),depth:f+1};var e}e.nameAsLabel=d,e.swapRTLArc=g,e.overrideColors=y,e.normalize=v,e.flatten=function(t){return v(i.default(t,[d,h],[g,y,h,p]))}},function(t,e,r){"use strict";function n(t,e,r){e.forEach((function(e){!function(t,e,r){e.forEach((function(o){!function(t,e,r,n){n.forEach((function(n){n(r,t,e)}))}(t,e,o,r),o.arcs&&n(t,o.arcs,r)}))}(t,e,r)}))}e.__esModule=!0,e.default=function(t,e,r){var o,i;return o=t.entities,i=e,o.forEach((function(t){i.forEach((function(e){e(t)}))})),t.arcs&&n(t.entities,t.arcs,r),t}},function(t,e,r){"use strict";e.__esModule=!0,e.unescapeString=function(t){return t.replace(/\\"/g,'"')},e.escapeString=function(t){return t.replace(/\\"/g,'"').replace(/"/g,'\\"')}},function(t,e,r){"use strict";e.__esModule=!0;var n=Object.freeze({"<-":"->","<=":"=>","<<=":"=>>","<<":">>","<:":":>","x-":"-x"});e.default=function(t){return n[t]||t}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(0)),a=n(r(19)),u=n(r(5)),s=o(r(20)),c=o(r(1)),l=o(r(10));function f(t,e){return e&&t.setAttribute("style","fill:"+e+";"),t}function d(t,e,r,n,o,i){var a,d,h,p=r+(o+.25)*l.calculateTextHeight(),g=function(t,e){var r=t,n=s.getClass(r),o=s.getAggregateClass(r);return n===o?n+e:o+e+n+e}(n.kind,"-text ");return i.alignLeft&&(g+="anchor-start "),i.alignAround&&(p=r+(o+.25)*(l.calculateTextHeight()+u.default.LINE_WIDTH)),a=f(function(t,e,r,n,o){var i=0===e?{class:n,url:o.url,id:o.id,idurl:o.idurl}:{class:n,url:o.url};return c.createText(t,r,i)}(t,o,{x:e,y:p},g,n),n.textcolor),d=n.url,h=n.textcolor,f(a,d&&!h?"blue":h)}function h(t,e){return function(t,e){return"box"===i.default(t)&&e}(t,e.wordwrapboxes)||function(t,e){return"entity"===t&&e}(t,e.wordwrapentities)||function(t,e){return"box"!==i.default(t)&&"entity"!==t&&e}(t,e.wordwraparcs)||void 0===t}function p(t,e,r,n,o){return h(e,o)?a.default(t,function(t,e){var r=Math.abs(t);return r<=160?r/(e/12*8):r<=320?r/(e/12*6.4):r<=480?r/(e/12*5.9):r/(e/12*5.6)}(r,n)):t.split("\\n")}e.createLabel=function(t,e,r,n){var o=c.createGroup(n);if(r=r||{},t.label){var i=e.x+e.width/2,a=function(t,e){return e.alignAbove&&t.forEach((function(){t.push("")})),e.alignAround&&1===t.length&&t.push(""),t}(p(t.label,t.kind,e.width,u.default.FONT_SIZE,r),r),s=function(t,e,r){return r.alignAround?e.y-(t.length-1)/2*(l.calculateTextHeight()+u.default.LINE_WIDTH+1):e.y-(t.length-1)/2*(l.calculateTextHeight()+1)}(a,e,r);a.forEach((function(e,n){if(""!==e){var a=d(e,i,s,t,n,r);r.ownBackground&&o.appendChild((u=a,f=t.textbgcolor,h=c.createRect(l.getBBox(u),{class:"label-text-background"}),f&&h.setAttribute("style","fill:"+f+"; stroke:"+f+";"),h)),o.appendChild(a)}var u,f,h;s++}))}return o},e.splitLabel=p},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){for(var r=0,n=[],o=0,i=0,a=0,u=0,s=t.replace(/[\t\n]+/g," ").replace(/\\n/g,"\n");u<=s.length;)u>=s.length?n.push(s.substring(o,u)):"\n"===s[u]?(r=0,a=u,n.push(s.substring(o,a)),o=a+1):r++>=e&&(-1===(a=s.substring(0,u).lastIndexOf(" "))||a<o?(r=1,a=u,i=u):(r=0,i=a+1),n.push(s.substring(o,a)),o=i),u++;return n}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(0)),i=Object.freeze({"|||":"empty-row","...":"omitted-row","---":"comment-row","->":"signal","=>":"method","=>>":"callback",">>":"return",":>":"emphasised","-x":"lost","<-":"signal","<=":"method","<<=":"callback","<<":"return","<:":"emphasised","x-":"lost","<->":"signal","<=>":"method","<<=>>":"callback","<<>>":"return","<:>":"emphasised","--":"signal","==":"method","..":"return","::":"emphasised"});e.getClass=function(t){return i[t]||t},e.getAggregateClass=function(t){return o.default(t)||t}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(9)),a=o(r(2)),u=o(r(6));function s(t){return t.map((function(t){return a.pathPoint2String("S",t.controlX,t.controlY)+" "+a.point2String(t)})).join(" ")}function c(t){var e=Math.abs(t.xTo-t.xFrom),r=Math.abs(t.yTo-t.yFrom);return Math.sqrt(e*e+r*r)}function l(t,e){var r=c(t);return r>0?Math.floor(r/e):0}function f(t){return Math.round(2*Math.random()*t)-t}e.points2CurveString=s,e.line2CurveString=function(t){return s(d(t,70,3))},e.getLineLength=c,e.getNumberOfSegments=l;function d(t,e,r){for(var n,o=[],a=l(t,e=function(t,e){if(t<=0)throw new Error("pInterval must be > 0");return Math.min(c(e),t)}(e,t)),s=u.getDirection(t),d=s.signX*Math.sqrt(Math.pow(e,2)/(1+Math.pow(s.dy,2))),h=s.signY*(Math.abs(s.dy)===1/0?e:Math.sqrt(Math.pow(s.dy,2)*Math.pow(e,2)/(1+Math.pow(s.dy,2)))),p=1;p<=a;p++)e>c({xFrom:(n={controlX:i.default(t.xFrom+(p-.5)*d+f(r),2),controlY:i.default(t.yFrom+(p-.5)*h+f(r),2),x:i.default(t.xFrom+p*d,2),y:i.default(t.yFrom+p*h,2)}).x,yFrom:n.y,xTo:t.xTo,yTo:t.yTo})&&(n.x=t.xTo,n.y=t.yTo),o.push(n);return o}e.getBetweenPoints=d},function(t,e,r){"use strict";e.__esModule=!0;var n="mscgenjs";e.setPrefix=function(t){n="mscgenjs"+t},e.get=function(t){return n+(t||"")}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var a=i(r(0)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(e){t.prototype.init.call(this,Object.assign({supportedOptions:["hscale","width","arcgradient","wordwraparcs"],supportedEntityAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],supportedArcAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],inline:{opener:";"+this.eol,closer:"#"}},e))},e.prototype.renderKind=function(t){return"inline_expression"===a.default(t)?"--":t},e.prototype.optionIsValid=function(t){return!Boolean(t.value)||"string"!=typeof t.value||"auto"!==t.value.toLowerCase()},e}(r(11).XuAdaptor);e.MscGenAdaptor=u,e.render=function(t,e){return new u(e).render(t)}},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(25)),i=n(r(28));e.renderMsc=function(t,e,r){o.renderMsc(t,e||{},r,i.getParser,i.getGraphicsRenderer)},e.translateMsc=function(t,e){return o.translateMsc(t,e||{},i.getParser,i.getTextRenderer)},e.version=o.version,e.getAllowedValues=o.getAllowedValues,e.getParser=i.getParser,e.getGraphicsRenderer=i.getGraphicsRenderer,e.getTextRenderer=i.getTextRenderer},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(12)),i=n(r(26)),a=r(27);function u(t,e,r){return function(t,e){return"json"===e&&"object"==typeof t}(t,e)?t:r(e).parse(t)}function s(t,e,r){Boolean(t)&&(Boolean(e)?t(e,null):t(null,r))}e.renderMsc=function(t,e,r,n,o){var a=i.default(e,t);try{s(r,null,o().render(u(t,a.inputType,n),a.window,a.elementId,{source:a.source,styleAdditions:a.styleAdditions,additionalTemplate:a.additionalTemplate,mirrorEntitiesOnBottom:a.mirrorEntitiesOnBottom,regularArcTextVerticalAlignment:a.regularArcTextVerticalAlignment}))}catch(t){s(r,t)}},e.translateMsc=function(t,e,r,n){var o=Object.assign({inputType:"mscgen",outputType:"json"},e);return"ast"===o.outputType?r(o.inputType).parse(t):"json"===o.outputType?JSON.stringify(r(o.inputType).parse(t),null,"  "):n(o.outputType).render(u(t,o.inputType,r))},e.version=a.version,e.getAllowedValues=function(){return o.default}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(12));function i(t,e,r){var n=r;return e.some((function(e){return e.name===t}))&&(n=t),n}function a(t,e){return"boolean"==typeof t?t:e}e.default=function(t,e){var r,n,u,s=a(t.includeSource,!0);return{inputType:(u=t.inputType,i(u,o.default.inputType,"mscgen")),elementId:t.elementId||"__svg",window:t.window||window,includeSource:s,source:s?e:null,styleAdditions:t.styleAdditions||null,additionalTemplate:(n=t.additionalTemplate,i(n,o.default.namedStyle,"basic")),mirrorEntitiesOnBottom:a(t.mirrorEntitiesOnBottom,!1),regularArcTextVerticalAlignment:(r=t.regularArcTextVerticalAlignment,i(r,o.default.regularArcTextVerticalAlignment,"middle"))}}},function(t){t.exports=JSON.parse('{"version":"4.0.4"}')},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(29)),i=n(r(30)),a=n(r(31)),u=n(r(32)),s=n(r(47)),c=n(r(49)),l=n(r(23)),f=n(r(50)),d=n(r(11)),h=o,p=l,g=Object.freeze({mscgen:o,xu:a,msgenny:i}),b=Object.freeze({mscgen:l,msgenny:f,xu:d,dot:s,doxygen:c});e.getParser=function(t){return["ast","json"].includes(t)?JSON:g[t]||h},e.getGraphicsRenderer=function(){return u},e.getTextRenderer=function(t){return b[t]||p}},function(t,e,r){var n,o,i;o=[r(7),r(3)],void 0===(i="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?i(t.parts[e][0])+"-"+i(t.parts[e][1]):i(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}return"Expected "+function(t){var e,n,o,i=new Array(t.length);for(e=0;e<t.length;e++)i[e]=(o=t[e],r[o.type](o));if(i.sort(),i.length>0){for(e=1,n=1;e<i.length;e++)i[e-1]!==i[e]&&(i[n]=i[e],n++);i.length=n}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){o=void 0!==o?o:{};var i,a={},u={program:me},s=me,c=fe("{",!1),l=fe("}",!1),f=fe("msc",!0),d=fe(",",!1),h=fe(";",!1),p=he("option"),g=fe("hscale",!0),b=fe("width",!0),y=fe("arcgradient",!0),m=fe("=",!1),v=fe("wordwraparcs",!0),x=he("entity"),w=fe("[",!1),_=fe("]",!1),C=function(t,e){return e},A=function(n,o){return e.isMscGenKeyword(n)&&function(t,e){throw e=void 0!==e?e:ge(ae,ie),function(t,e){return new r(t,null,null,e)}(t,e)}("Keywords aren't allowed as entity names (embed them in quotes if you need them)"),t({name:n},o)},S=function(t){return{kind:t}},k=fe("*",!1),L=function(t,e){return{kind:e,from:t,to:"*"}},E=he("empty row"),T=fe("|||",!1),j=fe("...",!1),M=he("---"),O=fe("---",!1),F=he("bi-directional arrow"),I=fe("--",!1),P=fe("<->",!1),D=fe("==",!1),N=fe("<<=>>",!1),B=fe("<=>",!1),H=fe("..",!1),W=fe("<<>>",!1),R=fe("::",!1),G=fe("<:>",!1),z=he("left to right arrow"),X=fe("->",!1),V=fe("=>>",!1),q=fe("=>",!1),U=fe(">>",!1),$=fe(":>",!1),K=fe("-x",!0),Z=he("right to left arrow"),Y=fe("<-",!1),J=fe("<<=",!1),Q=fe("<=",!1),tt=fe("<<",!1),et=fe("<:",!1),rt=fe("x-",!0),nt=he("box"),ot=fe("note",!0),it=fe("abox",!0),at=fe("rbox",!0),ut=fe("box",!0),st=he("attribute name"),ct=fe("label",!0),lt=fe("idurl",!0),ft=fe("id",!0),dt=fe("url",!0),ht=fe("linecolor",!0),pt=fe("linecolour",!0),gt=fe("textcolor",!0),bt=fe("textcolour",!0),yt=fe("textbgcolor",!0),mt=fe("textbgcolour",!0),vt=fe("arclinecolor",!0),xt=fe("arclinecolour",!0),wt=fe("arctextcolor",!0),_t=fe("arctextcolour",!0),Ct=fe("arctextbgcolor",!0),At=fe("arctextbgcolour",!0),St=fe("arcskip",!0),kt=he("double quoted string"),Lt=fe('"',!1),Et=fe('\\"',!1),Tt={type:"any"},jt=he("identifier"),Mt=/^[A-Za-z_0-9]/,Ot=de([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),Ft=he("whitespace"),It=/^[ \t]/,Pt=de([" ","\t"],!1,!1),Dt=he("lineend"),Nt=/^[\r\n]/,Bt=de(["\r","\n"],!1,!1),Ht=fe("/*",!1),Wt=fe("*/",!1),Rt=fe("//",!1),Gt=fe("#",!1),zt=/^[^\r\n]/,Xt=de(["\r","\n"],!0,!1),Vt=he("comment"),qt=he("number"),Ut=he("cardinal"),$t=/^[0-9]/,Kt=de([["0","9"]],!1,!1),Zt=he("real"),Yt=fe(".",!1),Jt=he("boolean"),Qt=fe("true",!0),te=fe("false",!0),ee=fe("on",!0),re=fe("off",!0),ne=fe("0",!1),oe=fe("1",!1),ie=0,ae=0,ue=[{line:1,column:1}],se=0,ce=[],le=0;if("startRule"in o){if(!(o.startRule in u))throw new Error("Can't start parsing from rule \""+o.startRule+'".');s=u[o.startRule]}function fe(t,e){return{type:"literal",text:t,ignoreCase:e}}function de(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function he(t){return{type:"other",description:t}}function pe(t){var e,r=ue[t];if(r)return r;for(e=t-1;!ue[e];)e--;for(r={line:(r=ue[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return ue[t]=r,r}function ge(t,e){var r=pe(t),n=pe(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function be(t){ie<se||(ie>se&&(se=ie,ce=[]),ce.push(t))}function ye(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function me(){var r,o,i,u,s,p,g;return r=ie,(o=Be())!==a&&function(){var t;return"msc"===n.substr(ie,3).toLowerCase()?(t=n.substr(ie,3),ie+=3):(t=a,0===le&&be(f)),t}()!==a&&Be()!==a?(123===n.charCodeAt(ie)?(i="{",ie++):(i=a,0===le&&be(c)),i!==a&&Be()!==a&&(u=function(){var e,r,o,i;return e=ie,(r=function(){var e,r,o,i,u,s;for(e=ie,r=ie,o=[],i=ie,(u=ve())!==a?(44===n.charCodeAt(ie)?(s=",",ie++):(s=a,0===le&&be(d)),s!==a?(ae=i,i=u=u):(ie=i,i=a)):(ie=i,i=a);i!==a;)o.push(i),i=ie,(u=ve())!==a?(44===n.charCodeAt(ie)?(s=",",ie++):(s=a,0===le&&be(d)),s!==a?(ae=i,i=u=u):(ie=i,i=a)):(ie=i,i=a);return o!==a?(i=ie,(u=ve())!==a?(59===n.charCodeAt(ie)?(s=";",ie++):(s=a,0===le&&be(h)),s!==a?(ae=i,i=u=u):(ie=i,i=a)):(ie=i,i=a),i!==a?r=o=[o,i]:(ie=r,r=a)):(ie=r,r=a),r!==a&&(ae=e,r=function(e){return e[0].concat(e[1]).reduce(t,{})}(r)),e=r}())===a&&(r=null),r!==a?((o=function(){var t,e,r,o,i,u,s;for(t=ie,e=ie,r=[],o=ie,(i=xe())!==a?(44===n.charCodeAt(ie)?(u=",",ie++):(u=a,0===le&&be(d)),u!==a?(ae=o,o=i=i):(ie=o,o=a)):(ie=o,o=a);o!==a;)r.push(o),o=ie,(i=xe())!==a?(44===n.charCodeAt(ie)?(u=",",ie++):(u=a,0===le&&be(d)),u!==a?(ae=o,o=i=i):(ie=o,o=a)):(ie=o,o=a);return r!==a?(o=ie,(i=xe())!==a?(59===n.charCodeAt(ie)?(u=";",ie++):(u=a,0===le&&be(h)),u!==a?(ae=o,o=i=i):(ie=o,o=a)):(ie=o,o=a),o!==a?e=r=[r,o]:(ie=e,e=a)):(ie=e,e=a),e!==a&&(ae=t,e=(s=e)[0].concat(s[1])),t=e}())===a&&(o=null),o!==a?((i=function(){var t,e,r,o;if(t=[],e=ie,(r=we())!==a&&Be()!==a?(59===n.charCodeAt(ie)?(o=";",ie++):(o=a,0===le&&be(h)),o!==a?(ae=e,e=r=r):(ie=e,e=a)):(ie=e,e=a),e!==a)for(;e!==a;)t.push(e),e=ie,(r=we())!==a&&Be()!==a?(59===n.charCodeAt(ie)?(o=";",ie++):(o=a,0===le&&be(h)),o!==a?(ae=e,e=r=r):(ie=e,e=a)):(ie=e,e=a);else t=a;return t}())===a&&(i=null),i!==a?(ae=e,r=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n}(r,o,i),e=r):(ie=e,e=a)):(ie=e,e=a)):(ie=e,e=a),e}())!==a&&Be()!==a?(125===n.charCodeAt(ie)?(s="}",ie++):(s=a,0===le&&be(l)),s!==a&&Be()!==a?(ae=r,p=o,(g=u).entities=g.entities||[],e.checkForUndeclaredEntities(g.entities,g.arcs),g=t({meta:{extendedOptions:!1,extendedArcTypes:!1,extendedFeatures:!1}},g),p.length>0&&(g=t({precomment:p},g)),r=o=g):(ie=r,r=a)):(ie=r,r=a)):(ie=r,r=a),r}function ve(){var t,r,o,i,u,s;return le++,t=ie,Be()!==a?("hscale"===n.substr(ie,6).toLowerCase()?(r=n.substr(ie,6),ie+=6):(r=a,0===le&&be(g)),r===a&&("width"===n.substr(ie,5).toLowerCase()?(r=n.substr(ie,5),ie+=5):(r=a,0===le&&be(b)),r===a&&("arcgradient"===n.substr(ie,11).toLowerCase()?(r=n.substr(ie,11),ie+=11):(r=a,0===le&&be(y)))),r!==a&&Be()!==a?(61===n.charCodeAt(ie)?(o="=",ie++):(o=a,0===le&&be(m)),o!==a&&Be()!==a&&(i=function(){var t,e;return le++,t=ie,(e=function(){var t,e,r,o;return t=ie,34===n.charCodeAt(ie)?(e='"',ie++):(e=a,0===le&&be(Lt)),e!==a&&(r=He())!==a?(34===n.charCodeAt(ie)?(o='"',ie++):(o=a,0===le&&be(Lt)),o!==a?(ae=t,e=r.toString(),t=e):(ie=t,t=a)):(ie=t,t=a),t}())!==a&&(ae=t,e=e),(t=e)===a&&(t=ie,(e=He())!==a&&(ae=t,e=e.toString()),t=e),le--,t===a&&(e=a,0===le&&be(qt)),t}())!==a&&Be()!==a?(ae=t,u=r,s=i,t=e.nameValue2Option(u,s)):(ie=t,t=a)):(ie=t,t=a)):(ie=t,t=a),t===a&&(t=ie,Be()!==a?("wordwraparcs"===n.substr(ie,12).toLowerCase()?(r=n.substr(ie,12),ie+=12):(r=a,0===le&&be(v)),r!==a&&Be()!==a?(61===n.charCodeAt(ie)?(o="=",ie++):(o=a,0===le&&be(m)),o!==a&&Be()!==a&&(i=function(){var t,e;return le++,t=ie,(e=function(){var t,e,r,o;return t=ie,34===n.charCodeAt(ie)?(e='"',ie++):(e=a,0===le&&be(Lt)),e!==a&&(r=Re())!==a?(34===n.charCodeAt(ie)?(o='"',ie++):(o=a,0===le&&be(Lt)),o!==a?(ae=t,t=e=r):(ie=t,t=a)):(ie=t,t=a),t}())!==a&&(ae=t,e=e),(t=e)===a&&(t=ie,(e=Re())!==a&&(ae=t,e=e.toString()),t=e),le--,t===a&&(e=a,0===le&&be(Jt)),t}())!==a&&Be()!==a?(ae=t,t=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))}(r,i)):(ie=t,t=a)):(ie=t,t=a)):(ie=t,t=a)),le--,t===a&&0===le&&be(p),t}function xe(){var e,r,o,i,u,s;return le++,e=ie,Be()!==a&&(r=Ee())!==a&&Be()!==a?(o=ie,91===n.charCodeAt(ie)?(i="[",ie++):(i=a,0===le&&be(w)),i!==a&&(u=ke())!==a?(93===n.charCodeAt(ie)?(s="]",ie++):(s=a,0===le&&be(_)),s!==a?(ae=o,o=i=C(0,u)):(ie=o,o=a)):(ie=o,o=a),o===a&&(o=null),o!==a&&(i=Be())!==a?(ae=e,e=t({name:r},o)):(ie=e,e=a)):(ie=e,e=a),e===a&&(e=ie,Be()!==a&&(r=je())!==a&&Be()!==a?(o=ie,91===n.charCodeAt(ie)?(i="[",ie++):(i=a,0===le&&be(w)),i!==a&&(u=ke())!==a?(93===n.charCodeAt(ie)?(s="]",ie++):(s=a,0===le&&be(_)),s!==a?(ae=o,o=i=C(0,u)):(ie=o,o=a)):(ie=o,o=a),o===a&&(o=null),o!==a&&(i=Be())!==a?(ae=e,e=A(r,o)):(ie=e,e=a)):(ie=e,e=a)),le--,e===a&&0===le&&be(x),e}function we(){var t,e,r,o,i,u,s;for(t=ie,e=ie,r=[],o=ie,(i=_e())!==a&&Be()!==a?(44===n.charCodeAt(ie)?(u=",",ie++):(u=a,0===le&&be(d)),u!==a?(ae=o,o=i=i):(ie=o,o=a)):(ie=o,o=a);o!==a;)r.push(o),o=ie,(i=_e())!==a&&Be()!==a?(44===n.charCodeAt(ie)?(u=",",ie++):(u=a,0===le&&be(d)),u!==a?(ae=o,o=i=i):(ie=o,o=a)):(ie=o,o=a);return r!==a?(o=ie,(i=_e())!==a&&(ae=o,i=i),(o=i)!==a?e=r=[r,o]:(ie=e,e=a)):(ie=e,e=a),e!==a&&(ae=t,e=(s=e)[0].concat(s[1])),t=e}function _e(){var e,r,o,i,u,s;return e=ie,r=ie,(o=function(){var t,e,r;return t=ie,(e=Be())!==a&&(r=function(){var t;return le++,"|||"===n.substr(ie,3)?(t="|||",ie+=3):(t=a,0===le&&be(T)),t===a&&("..."===n.substr(ie,3)?(t="...",ie+=3):(t=a,0===le&&be(j))),le--,t===a&&0===le&&be(E),t}())!==a&&Be()!==a?(ae=t,e=S(r),t=e):(ie=t,t=a),t}())!==a&&(ae=r,o=o),(r=o)===a&&(r=ie,(o=function(){var t,e,r,o,i;return t=ie,(e=Be())!==a&&(r=Te())!==a&&Be()!==a&&(o=function(){var t,e;return t=ie,(e=Ce())===a&&(e=Ae())===a&&(e=Se())===a&&(e=function(){var t;return le++,"note"===n.substr(ie,4).toLowerCase()?(t=n.substr(ie,4),ie+=4):(t=a,0===le&&be(ot)),t===a&&("abox"===n.substr(ie,4).toLowerCase()?(t=n.substr(ie,4),ie+=4):(t=a,0===le&&be(it)),t===a&&("rbox"===n.substr(ie,4).toLowerCase()?(t=n.substr(ie,4),ie+=4):(t=a,0===le&&be(at)),t===a&&("box"===n.substr(ie,3).toLowerCase()?(t=n.substr(ie,3),ie+=3):(t=a,0===le&&be(ut))))),le--,t===a&&0===le&&be(nt),t}()),e!==a&&(ae=t,e=e.toLowerCase()),t=e}())!==a&&Be()!==a&&(i=Te())!==a&&Be()!==a?(ae=t,t=e={kind:o,from:r,to:i}):(ie=t,t=a),t===a&&(t=ie,(e=Be())!==a?(42===n.charCodeAt(ie)?(r="*",ie++):(r=a,0===le&&be(k)),r!==a&&Be()!==a&&(o=Se())!==a&&Be()!==a&&(i=Te())!==a&&Be()!==a?(ae=t,e=function(t,e){return{kind:t,from:"*",to:e}}(o,i),t=e):(ie=t,t=a)):(ie=t,t=a),t===a&&(t=ie,(e=Be())!==a&&(r=Te())!==a&&Be()!==a&&(o=Ae())!==a&&Be()!==a?(42===n.charCodeAt(ie)?(i="*",ie++):(i=a,0===le&&be(k)),i!==a&&Be()!==a?(ae=t,e=L(r,o),t=e):(ie=t,t=a)):(ie=t,t=a),t===a&&(t=ie,(e=Be())!==a&&(r=Te())!==a&&Be()!==a&&(o=Ce())!==a&&Be()!==a?(42===n.charCodeAt(ie)?(i="*",ie++):(i=a,0===le&&be(k)),i!==a&&Be()!==a?(ae=t,e=L(r,o),t=e):(ie=t,t=a)):(ie=t,t=a)))),t}())!==a&&(ae=r,o=o),(r=o)===a&&(r=ie,(o=function(){var t,e,r;return t=ie,(e=Be())!==a&&(r=function(){var t;return le++,"---"===n.substr(ie,3)?(t="---",ie+=3):(t=a,0===le&&be(O)),le--,t===a&&0===le&&be(M),t}())!==a&&Be()!==a?(ae=t,e=S(r),t=e):(ie=t,t=a),t}())!==a&&(ae=r,o=o),r=o)),r!==a?(o=ie,91===n.charCodeAt(ie)?(i="[",ie++):(i=a,0===le&&be(w)),i!==a&&(u=ke())!==a?(93===n.charCodeAt(ie)?(s="]",ie++):(s=a,0===le&&be(_)),s!==a?(ae=o,o=i=u):(ie=o,o=a)):(ie=o,o=a),o===a&&(o=null),o!==a?(ae=e,e=r=function(e,r){return t(e,r)}(r,o)):(ie=e,e=a)):(ie=e,e=a),e}function Ce(){var t;return le++,"--"===n.substr(ie,2)?(t="--",ie+=2):(t=a,0===le&&be(I)),t===a&&("<->"===n.substr(ie,3)?(t="<->",ie+=3):(t=a,0===le&&be(P)),t===a&&("=="===n.substr(ie,2)?(t="==",ie+=2):(t=a,0===le&&be(D)),t===a&&("<<=>>"===n.substr(ie,5)?(t="<<=>>",ie+=5):(t=a,0===le&&be(N)),t===a&&("<=>"===n.substr(ie,3)?(t="<=>",ie+=3):(t=a,0===le&&be(B)),t===a&&(".."===n.substr(ie,2)?(t="..",ie+=2):(t=a,0===le&&be(H)),t===a&&("<<>>"===n.substr(ie,4)?(t="<<>>",ie+=4):(t=a,0===le&&be(W)),t===a&&("::"===n.substr(ie,2)?(t="::",ie+=2):(t=a,0===le&&be(R)),t===a&&("<:>"===n.substr(ie,3)?(t="<:>",ie+=3):(t=a,0===le&&be(G)))))))))),le--,t===a&&0===le&&be(F),t}function Ae(){var t;return le++,"->"===n.substr(ie,2)?(t="->",ie+=2):(t=a,0===le&&be(X)),t===a&&("=>>"===n.substr(ie,3)?(t="=>>",ie+=3):(t=a,0===le&&be(V)),t===a&&("=>"===n.substr(ie,2)?(t="=>",ie+=2):(t=a,0===le&&be(q)),t===a&&(">>"===n.substr(ie,2)?(t=">>",ie+=2):(t=a,0===le&&be(U)),t===a&&(":>"===n.substr(ie,2)?(t=":>",ie+=2):(t=a,0===le&&be($)),t===a&&("-x"===n.substr(ie,2).toLowerCase()?(t=n.substr(ie,2),ie+=2):(t=a,0===le&&be(K))))))),le--,t===a&&0===le&&be(z),t}function Se(){var t;return le++,"<-"===n.substr(ie,2)?(t="<-",ie+=2):(t=a,0===le&&be(Y)),t===a&&("<<="===n.substr(ie,3)?(t="<<=",ie+=3):(t=a,0===le&&be(J)),t===a&&("<="===n.substr(ie,2)?(t="<=",ie+=2):(t=a,0===le&&be(Q)),t===a&&("<<"===n.substr(ie,2)?(t="<<",ie+=2):(t=a,0===le&&be(tt)),t===a&&("<:"===n.substr(ie,2)?(t="<:",ie+=2):(t=a,0===le&&be(et)),t===a&&("x-"===n.substr(ie,2).toLowerCase()?(t=n.substr(ie,2),ie+=2):(t=a,0===le&&be(rt))))))),le--,t===a&&0===le&&be(Z),t}function ke(){var e,r,o,i,u,s,c;for(e=ie,r=ie,o=[],i=ie,(u=Le())!==a?(44===n.charCodeAt(ie)?(s=",",ie++):(s=a,0===le&&be(d)),s!==a?(ae=i,i=u=u):(ie=i,i=a)):(ie=i,i=a);i!==a;)o.push(i),i=ie,(u=Le())!==a?(44===n.charCodeAt(ie)?(s=",",ie++):(s=a,0===le&&be(d)),s!==a?(ae=i,i=u=u):(ie=i,i=a)):(ie=i,i=a);return o!==a?(i=ie,(u=Le())!==a&&(ae=i,u=u),(i=u)!==a?r=o=[o,i]:(ie=r,r=a)):(ie=r,r=a),r!==a&&(ae=e,r=(c=r)[0].concat(c[1]).reduce(t,{})),e=r}function Le(){var t,e,r,o,i,u;return t=ie,Be()!==a&&(e=function(){var t;return le++,"label"===n.substr(ie,5).toLowerCase()?(t=n.substr(ie,5),ie+=5):(t=a,0===le&&be(ct)),t===a&&("idurl"===n.substr(ie,5).toLowerCase()?(t=n.substr(ie,5),ie+=5):(t=a,0===le&&be(lt)),t===a&&("id"===n.substr(ie,2).toLowerCase()?(t=n.substr(ie,2),ie+=2):(t=a,0===le&&be(ft)),t===a&&("url"===n.substr(ie,3).toLowerCase()?(t=n.substr(ie,3),ie+=3):(t=a,0===le&&be(dt)),t===a&&("linecolor"===n.substr(ie,9).toLowerCase()?(t=n.substr(ie,9),ie+=9):(t=a,0===le&&be(ht)),t===a&&("linecolour"===n.substr(ie,10).toLowerCase()?(t=n.substr(ie,10),ie+=10):(t=a,0===le&&be(pt)),t===a&&("textcolor"===n.substr(ie,9).toLowerCase()?(t=n.substr(ie,9),ie+=9):(t=a,0===le&&be(gt)),t===a&&("textcolour"===n.substr(ie,10).toLowerCase()?(t=n.substr(ie,10),ie+=10):(t=a,0===le&&be(bt)),t===a&&("textbgcolor"===n.substr(ie,11).toLowerCase()?(t=n.substr(ie,11),ie+=11):(t=a,0===le&&be(yt)),t===a&&("textbgcolour"===n.substr(ie,12).toLowerCase()?(t=n.substr(ie,12),ie+=12):(t=a,0===le&&be(mt)),t===a&&("arclinecolor"===n.substr(ie,12).toLowerCase()?(t=n.substr(ie,12),ie+=12):(t=a,0===le&&be(vt)),t===a&&("arclinecolour"===n.substr(ie,13).toLowerCase()?(t=n.substr(ie,13),ie+=13):(t=a,0===le&&be(xt)),t===a&&("arctextcolor"===n.substr(ie,12).toLowerCase()?(t=n.substr(ie,12),ie+=12):(t=a,0===le&&be(wt)),t===a&&("arctextcolour"===n.substr(ie,13).toLowerCase()?(t=n.substr(ie,13),ie+=13):(t=a,0===le&&be(_t)),t===a&&("arctextbgcolor"===n.substr(ie,14).toLowerCase()?(t=n.substr(ie,14),ie+=14):(t=a,0===le&&be(Ct)),t===a&&("arctextbgcolour"===n.substr(ie,15).toLowerCase()?(t=n.substr(ie,15),ie+=15):(t=a,0===le&&be(At)),t===a&&("arcskip"===n.substr(ie,7).toLowerCase()?(t=n.substr(ie,7),ie+=7):(t=a,0===le&&be(St)))))))))))))))))),le--,t===a&&0===le&&be(st),t}())!==a&&Be()!==a?(61===n.charCodeAt(ie)?(r="=",ie++):(r=a,0===le&&be(m)),r!==a&&Be()!==a&&(o=Te())!==a&&Be()!==a?(ae=t,i=o,(u={})[e.toLowerCase().replace("colour","color")]=i,t=u):(ie=t,t=a)):(ie=t,t=a),t}function Ee(){var t,e,r,o;return le++,t=ie,34===n.charCodeAt(ie)?(e='"',ie++):(e=a,0===le&&be(Lt)),e!==a&&(r=function(){var t,e,r,o;for(t=[],e=ie,r=ie,le++,34===n.charCodeAt(ie)?(o='"',ie++):(o=a,0===le&&be(Lt)),le--,o===a?r=void 0:(ie=r,r=a),r!==a?('\\"'===n.substr(ie,2)?(o='\\"',ie+=2):(o=a,0===le&&be(Et)),o===a&&(n.length>ie?(o=n.charAt(ie),ie++):(o=a,0===le&&be(Tt))),o!==a?(ae=e,e=r=o):(ie=e,e=a)):(ie=e,e=a);e!==a;)t.push(e),e=ie,r=ie,le++,34===n.charCodeAt(ie)?(o='"',ie++):(o=a,0===le&&be(Lt)),le--,o===a?r=void 0:(ie=r,r=a),r!==a?('\\"'===n.substr(ie,2)?(o='\\"',ie+=2):(o=a,0===le&&be(Et)),o===a&&(n.length>ie?(o=n.charAt(ie),ie++):(o=a,0===le&&be(Tt))),o!==a?(ae=e,e=r=o):(ie=e,e=a)):(ie=e,e=a);return t}())!==a?(34===n.charCodeAt(ie)?(o='"',ie++):(o=a,0===le&&be(Lt)),o!==a?(ae=t,t=e=r.join("")):(ie=t,t=a)):(ie=t,t=a),le--,t===a&&(e=a,0===le&&be(kt)),t}function Te(){var t;return le++,(t=je())===a&&(t=Ee()),le--,t===a&&0===le&&be(jt),t}function je(){var t,e,r;if(t=ie,e=[],Mt.test(n.charAt(ie))?(r=n.charAt(ie),ie++):(r=a,0===le&&be(Ot)),r!==a)for(;r!==a;)e.push(r),Mt.test(n.charAt(ie))?(r=n.charAt(ie),ie++):(r=a,0===le&&be(Ot));else e=a;return e!==a&&(ae=t,e=e.join("")),t=e}function Me(){var t,e;return le++,t=ie,It.test(n.charAt(ie))?(e=n.charAt(ie),ie++):(e=a,0===le&&be(Pt)),e!==a&&(ae=t,e=e),le--,(t=e)===a&&(e=a,0===le&&be(Ft)),t}function Oe(){var t,e;return le++,t=ie,Nt.test(n.charAt(ie))?(e=n.charAt(ie),ie++):(e=a,0===le&&be(Bt)),e!==a&&(ae=t,e=e),le--,(t=e)===a&&(e=a,0===le&&be(Dt)),t}function Fe(){var t,e,r;return t=ie,e=ie,le++,"*/"===n.substr(ie,2)?(r="*/",ie+=2):(r=a,0===le&&be(Wt)),le--,r===a?e=void 0:(ie=e,e=a),e!==a?(n.length>ie?(r=n.charAt(ie),ie++):(r=a,0===le&&be(Tt)),r!==a?(ae=t,t=e=r):(ie=t,t=a)):(ie=t,t=a),t}function Ie(){var t,e,r,o,i;if(t=ie,(e=function(){var t;return"/*"===n.substr(ie,2)?(t="/*",ie+=2):(t=a,0===le&&be(Ht)),t}())!==a){for(r=[],o=Fe();o!==a;)r.push(o),o=Fe();r!==a&&(o=function(){var t;return"*/"===n.substr(ie,2)?(t="*/",ie+=2):(t=a,0===le&&be(Wt)),t}())!==a?(ae=t,i=o,t=e=e+r.join("")+i):(ie=t,t=a)}else ie=t,t=a;return t}function Pe(){var t;return zt.test(n.charAt(ie))?(t=n.charAt(ie),ie++):(t=a,0===le&&be(Xt)),t}function De(){var t,e,r,o;if(t=ie,(e=function(){var t;return"//"===n.substr(ie,2)?(t="//",ie+=2):(t=a,0===le&&be(Rt)),t===a&&(35===n.charCodeAt(ie)?(t="#",ie++):(t=a,0===le&&be(Gt))),t}())!==a){for(r=[],o=Pe();o!==a;)r.push(o),o=Pe();r!==a?(ae=t,t=e+=r.join("")):(ie=t,t=a)}else ie=t,t=a;return t}function Ne(){var t;return le++,(t=De())===a&&(t=Ie()),le--,t===a&&0===le&&be(Vt),t}function Be(){var t,e;for(t=[],(e=Me())===a&&(e=Oe())===a&&(e=Ne());e!==a;)t.push(e),(e=Me())===a&&(e=Oe())===a&&(e=Ne());return t}function He(){var t;return(t=function(){var t,e,r,o,i;return le++,t=ie,e=ie,(r=We())!==a?(46===n.charCodeAt(ie)?(o=".",ie++):(o=a,0===le&&be(Yt)),o!==a&&(i=We())!==a?e=r=[r,o,i]:(ie=e,e=a)):(ie=e,e=a),e!==a&&(ae=t,e=parseFloat(e.join(""))),le--,(t=e)===a&&(e=a,0===le&&be(Zt)),t}())===a&&(t=We()),t}function We(){var t,e,r;if(le++,t=ie,e=[],$t.test(n.charAt(ie))?(r=n.charAt(ie),ie++):(r=a,0===le&&be(Kt)),r!==a)for(;r!==a;)e.push(r),$t.test(n.charAt(ie))?(r=n.charAt(ie),ie++):(r=a,0===le&&be(Kt));else e=a;return e!==a&&(ae=t,e=parseInt(e.join(""),10)),le--,(t=e)===a&&(e=a,0===le&&be(Ut)),t}function Re(){var t;return"true"===n.substr(ie,4).toLowerCase()?(t=n.substr(ie,4),ie+=4):(t=a,0===le&&be(Qt)),t===a&&("false"===n.substr(ie,5).toLowerCase()?(t=n.substr(ie,5),ie+=5):(t=a,0===le&&be(te)),t===a&&("on"===n.substr(ie,2).toLowerCase()?(t=n.substr(ie,2),ie+=2):(t=a,0===le&&be(ee)),t===a&&("off"===n.substr(ie,3).toLowerCase()?(t=n.substr(ie,3),ie+=3):(t=a,0===le&&be(re)),t===a&&(48===n.charCodeAt(ie)?(t="0",ie++):(t=a,0===le&&be(ne)),t===a&&(49===n.charCodeAt(ie)?(t="1",ie++):(t=a,0===le&&be(oe))))))),t}if((i=s())!==a&&ie===n.length)return i;throw i!==a&&ie<n.length&&be({type:"end"}),ye(ce,se<n.length?n.charAt(se):null,se<n.length?ge(se,se+1):ge(se,se))}}})?n.apply(e,o):n)||(t.exports=i)},function(t,e,r){var n,o,i;o=[r(7),r(3)],void 0===(i="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?i(t.parts[e][0])+"-"+i(t.parts[e][1]):i(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}return"Expected "+function(t){var e,n,o,i=new Array(t.length);for(e=0;e<t.length;e++)i[e]=(o=t[e],r[o.type](o));if(i.sort(),i.length>0){for(e=1,n=1;e<i.length;e++)i[e-1]!==i[e]&&(i[n]=i[e],n++);i.length=n}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){o=void 0!==o?o:{};var i,a={},u={program:be},s=be,c=function(r,n){return n.entities=function e(r,n,o){return o||(o={}),(n||[]).forEach((function(n){n.forEach((function(n){Re(r,n.from,o)&&r.push(Ge(n.from)),n.arcs&&(o[n.to]=!0,t(r,e(r,n.arcs,o)),delete o[n.to]),Re(r,n.to,o)&&r.push(Ge(n.to))}))})),r}(n.entities||[],n.arcs),n=t({meta:e.getMetaInfo(n.options,n.arcs)},n),r.length>0&&(n=t({precomment:r},n)),n},l=ce(",",!1),f=ce(";",!1),d=ce("hscale",!0),h=ce("arcgradient",!0),p=ce("=",!1),g=function(t,r){return e.nameValue2Option(t,r)},b=ce("width",!0),y=ce("wordwraparcs",!0),m=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))},v=ce("wordwrapentities",!0),x=ce("wordwrapboxes",!0),w=ce("watermark",!0),_=fe("entity"),C=ce(":",!1),A=function(t){return{kind:t}},S=ce("*",!1),k=function(t,e){return{kind:e,from:t,to:"*"}},L=ce("{",!1),E=ce("}",!1),T=fe("empty row"),j=ce("|||",!1),M=ce("...",!1),O=fe("---"),F=ce("---",!1),I=fe("bi-directional arrow"),P=ce("--",!1),D=ce("<->",!1),N=ce("==",!1),B=ce("<<=>>",!1),H=ce("<=>",!1),W=ce("..",!1),R=ce("<<>>",!1),G=ce("::",!1),z=ce("<:>",!1),X=fe("left to right arrow"),V=ce("->",!1),q=ce("=>>",!1),U=ce("=>",!1),$=ce(">>",!1),K=ce(":>",!1),Z=ce("-x",!0),Y=fe("right to left arrow"),J=ce("<-",!1),Q=ce("<<=",!1),tt=ce("<=",!1),et=ce("<<",!1),rt=ce("<:",!1),nt=ce("x-",!0),ot=fe("box"),it=ce("note",!0),at=ce("abox",!0),ut=ce("rbox",!0),st=ce("box",!0),ct=fe("inline expression"),lt=ce("alt",!0),ft=ce("else",!0),dt=ce("opt",!0),ht=ce("break",!0),pt=ce("par",!0),gt=ce("seq",!0),bt=ce("strict",!0),yt=ce("neg",!0),mt=ce("critical",!0),vt=ce("ignore",!0),xt=ce("consider",!0),wt=ce("assert",!0),_t=ce("loop",!0),Ct=ce("ref",!0),At=ce("exc",!0),St=fe("double quoted string"),kt=ce('"',!1),Lt=ce('\\"',!1),Et={type:"any"},Tt=fe("identifier"),jt=/^[^;, "\t\n\r=\-><:{*]/,Mt=le([";",","," ",'"',"\t","\n","\r","=","-",">","<",":","{","*"],!0,!1),Ot=fe("whitespace"),Ft=/^[ \t]/,It=le([" ","\t"],!1,!1),Pt=fe("lineend"),Dt=/^[\r\n]/,Nt=le(["\r","\n"],!1,!1),Bt=ce("/*",!1),Ht=ce("*/",!1),Wt=ce("//",!1),Rt=ce("#",!1),Gt=/^[^\r\n]/,zt=le(["\r","\n"],!0,!1),Xt=fe("comment"),Vt=fe("number"),qt=/^[0-9]/,Ut=le([["0","9"]],!1,!1),$t=ce(".",!1),Kt=fe("boolean"),Zt=ce("true",!0),Yt=ce("false",!0),Jt=ce("on",!0),Qt=ce("off",!0),te=ce("0",!1),ee=ce("1",!1),re=fe("size"),ne=ce("auto",!0),oe=0,ie=[{line:1,column:1}],ae=0,ue=[],se=0;if("startRule"in o){if(!(o.startRule in u))throw new Error("Can't start parsing from rule \""+o.startRule+'".');s=u[o.startRule]}function ce(t,e){return{type:"literal",text:t,ignoreCase:e}}function le(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function fe(t){return{type:"other",description:t}}function de(t){var e,r=ie[t];if(r)return r;for(e=t-1;!ie[e];)e--;for(r={line:(r=ie[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return ie[t]=r,r}function he(t,e){var r=de(t),n=de(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function pe(t){oe<ae||(oe>ae&&(ae=oe,ue=[]),ue.push(t))}function ge(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function be(){var e,r,o;return e=oe,(r=Pe())!==a&&(o=function(){var e,r,o,i;return e=oe,(r=function(){var e,r,o,i,u;for(oe,e=oe,r=[],o=oe,(i=ye())!==a?(44===n.charCodeAt(oe)?(u=",",oe++):(u=a,0===se&&pe(l)),u!==a?o=i=i:(oe=o,o=a)):(oe=o,o=a);o!==a;)r.push(o),o=oe,(i=ye())!==a?(44===n.charCodeAt(oe)?(u=",",oe++):(u=a,0===se&&pe(l)),u!==a?o=i=i:(oe=o,o=a)):(oe=o,o=a);return r!==a?(o=oe,(i=ye())!==a?(59===n.charCodeAt(oe)?(u=";",oe++):(u=a,0===se&&pe(f)),u!==a?o=i=i:(oe=o,o=a)):(oe=o,o=a),o!==a?e=r=[r,o]:(oe=e,e=a)):(oe=e,e=a),e!==a&&(e=function(e){return e[0].concat(e[1]).reduce(t,{})}(e)),e}())===a&&(r=null),r!==a?((o=function(){var t,e,r,o,i,u;for(oe,t=oe,e=[],r=oe,(o=me())!==a?(44===n.charCodeAt(oe)?(i=",",oe++):(i=a,0===se&&pe(l)),i!==a?r=o=o:(oe=r,r=a)):(oe=r,r=a);r!==a;)e.push(r),r=oe,(o=me())!==a?(44===n.charCodeAt(oe)?(i=",",oe++):(i=a,0===se&&pe(l)),i!==a?r=o=o:(oe=r,r=a)):(oe=r,r=a);return e!==a?(r=oe,(o=me())!==a?(59===n.charCodeAt(oe)?(i=";",oe++):(i=a,0===se&&pe(f)),i!==a?r=o=o:(oe=r,r=a)):(oe=r,r=a),r!==a?t=e=[e,r]:(oe=t,t=a)):(oe=t,t=a),t!==a&&(t=(u=t)[0].concat(u[1])),t}())===a&&(o=null),o!==a?((i=ve())===a&&(i=null),i!==a?(r=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n}(r,o,i),e=r):(oe=e,e=a)):(oe=e,e=a)):(oe=e,e=a),e}())!==a&&Pe()!==a?e=r=c(r,o):(oe=e,e=a),e}function ye(){var t,e,r,o;return t=oe,Pe()!==a?("hscale"===n.substr(oe,6).toLowerCase()?(e=n.substr(oe,6),oe+=6):(e=a,0===se&&pe(d)),e===a&&("arcgradient"===n.substr(oe,11).toLowerCase()?(e=n.substr(oe,11),oe+=11):(e=a,0===se&&pe(h))),e!==a&&Pe()!==a?(61===n.charCodeAt(oe)?(r="=",oe++):(r=a,0===se&&pe(p)),r!==a&&Pe()!==a&&(o=function(){var t,e;return se++,t=oe,(e=function(){var t,e,r,o;return t=oe,34===n.charCodeAt(oe)?(e='"',oe++):(e=a,0===se&&pe(kt)),e!==a&&(r=De())!==a?(34===n.charCodeAt(oe)?(o='"',oe++):(o=a,0===se&&pe(kt)),o!==a?(e=r.toString(),t=e):(oe=t,t=a)):(oe=t,t=a),t}())!==a&&(e=e),(t=e)===a&&(t=oe,(e=De())!==a&&(e=e.toString()),t=e),se--,t===a&&(e=a,0===se&&pe(Vt)),t}())!==a&&Pe()!==a?t=g(e,o):(oe=t,t=a)):(oe=t,t=a)):(oe=t,t=a),t===a&&(t=oe,Pe()!==a?("width"===n.substr(oe,5).toLowerCase()?(e=n.substr(oe,5),oe+=5):(e=a,0===se&&pe(b)),e!==a&&Pe()!==a?(61===n.charCodeAt(oe)?(r="=",oe++):(r=a,0===se&&pe(p)),r!==a&&Pe()!==a&&(o=function(){var t;return se++,(t=function(){var t,e,r,o;return t=oe,34===n.charCodeAt(oe)?(e='"',oe++):(e=a,0===se&&pe(kt)),e!==a&&(r=We())!==a?(34===n.charCodeAt(oe)?(o='"',oe++):(o=a,0===se&&pe(kt)),o!==a?t=e=r:(oe=t,t=a)):(oe=t,t=a),t}())===a&&(t=We()),se--,t===a&&0===se&&pe(re),t}())!==a&&Pe()!==a?t=g(e,o):(oe=t,t=a)):(oe=t,t=a)):(oe=t,t=a),t===a&&(t=oe,Pe()!==a?("wordwraparcs"===n.substr(oe,12).toLowerCase()?(e=n.substr(oe,12),oe+=12):(e=a,0===se&&pe(y)),e!==a&&Pe()!==a?(61===n.charCodeAt(oe)?(r="=",oe++):(r=a,0===se&&pe(p)),r!==a&&Pe()!==a&&(o=Be())!==a&&Pe()!==a?t=m(e,o):(oe=t,t=a)):(oe=t,t=a)):(oe=t,t=a),t===a&&(t=oe,Pe()!==a?("wordwrapentities"===n.substr(oe,16).toLowerCase()?(e=n.substr(oe,16),oe+=16):(e=a,0===se&&pe(v)),e!==a&&Pe()!==a?(61===n.charCodeAt(oe)?(r="=",oe++):(r=a,0===se&&pe(p)),r!==a&&Pe()!==a&&(o=Be())!==a&&Pe()!==a?t=m(e,o):(oe=t,t=a)):(oe=t,t=a)):(oe=t,t=a),t===a&&(t=oe,Pe()!==a?("wordwrapboxes"===n.substr(oe,13).toLowerCase()?(e=n.substr(oe,13),oe+=13):(e=a,0===se&&pe(x)),e!==a&&Pe()!==a?(61===n.charCodeAt(oe)?(r="=",oe++):(r=a,0===se&&pe(p)),r!==a&&Pe()!==a&&(o=Be())!==a&&Pe()!==a?t=m(e,o):(oe=t,t=a)):(oe=t,t=a)):(oe=t,t=a),t===a&&(t=oe,Pe()!==a?("watermark"===n.substr(oe,9).toLowerCase()?(e=n.substr(oe,9),oe+=9):(e=a,0===se&&pe(w)),e!==a&&Pe()!==a?(61===n.charCodeAt(oe)?(r="=",oe++):(r=a,0===se&&pe(p)),r!==a&&Pe()!==a&&(o=ke())!==a&&Pe()!==a?t=g(e,o):(oe=t,t=a)):(oe=t,t=a)):(oe=t,t=a)))))),t}function me(){var t,e,r,o,i,u,s;return se++,t=oe,Pe()!==a&&(e=Le())!==a&&Pe()!==a?(r=oe,58===n.charCodeAt(oe)?(o=":",oe++):(o=a,0===se&&pe(C)),o!==a&&Pe()!==a&&(i=Se())!==a&&Pe()!==a?r=o=i:(oe=r,r=a),r===a&&(r=null),r!==a?(u=r,s=Ge(e),u&&(s.label=u),t=s):(oe=t,t=a)):(oe=t,t=a),se--,t===a&&0===se&&pe(_),t}function ve(){var t,e,r,o;if(t=[],e=oe,(r=xe())!==a&&Pe()!==a?(59===n.charCodeAt(oe)?(o=";",oe++):(o=a,0===se&&pe(f)),o!==a?e=r=r:(oe=e,e=a)):(oe=e,e=a),e!==a)for(;e!==a;)t.push(e),e=oe,(r=xe())!==a&&Pe()!==a?(59===n.charCodeAt(oe)?(o=";",oe++):(o=a,0===se&&pe(f)),o!==a?e=r=r:(oe=e,e=a)):(oe=e,e=a);else t=a;return t}function xe(){var t,e,r,o,i,u;for(oe,t=oe,e=[],r=oe,(o=we())!==a?(44===n.charCodeAt(oe)?(i=",",oe++):(i=a,0===se&&pe(l)),i!==a?r=o=o:(oe=r,r=a)):(oe=r,r=a);r!==a;)e.push(r),r=oe,(o=we())!==a?(44===n.charCodeAt(oe)?(i=",",oe++):(i=a,0===se&&pe(l)),i!==a?r=o=o:(oe=r,r=a)):(oe=r,r=a);return e!==a?(r=oe,(o=we())!==a&&(o=o),(r=o)!==a?t=e=[e,r]:(oe=t,t=a)):(oe=t,t=a),t!==a&&(t=(u=t)[0].concat(u[1])),t}function we(){var t;return(t=function(){var t,e,r,o,i,u,s;return t=oe,e=oe,(r=function(){var t,e,r;return t=oe,(e=Pe())!==a&&(r=function(){var t;return se++,"|||"===n.substr(oe,3)?(t="|||",oe+=3):(t=a,0===se&&pe(j)),t===a&&("..."===n.substr(oe,3)?(t="...",oe+=3):(t=a,0===se&&pe(M))),se--,t===a&&0===se&&pe(T),t}())!==a&&Pe()!==a?(e=A(r),t=e):(oe=t,t=a),t}())!==a&&(r=r),(e=r)===a&&(e=oe,(r=function(){var t,e,r,o,i;return t=oe,(e=Pe())!==a&&(r=Le())!==a&&Pe()!==a&&(o=function(){var t;return oe,(t=_e())===a&&(t=Ce())===a&&(t=Ae())===a&&(t=function(){var t;return se++,"note"===n.substr(oe,4).toLowerCase()?(t=n.substr(oe,4),oe+=4):(t=a,0===se&&pe(it)),t===a&&("abox"===n.substr(oe,4).toLowerCase()?(t=n.substr(oe,4),oe+=4):(t=a,0===se&&pe(at)),t===a&&("rbox"===n.substr(oe,4).toLowerCase()?(t=n.substr(oe,4),oe+=4):(t=a,0===se&&pe(ut)),t===a&&("box"===n.substr(oe,3).toLowerCase()?(t=n.substr(oe,3),oe+=3):(t=a,0===se&&pe(st))))),se--,t===a&&0===se&&pe(ot),t}()),t!==a&&(t=t.toLowerCase()),t}())!==a&&Pe()!==a&&(i=Le())!==a&&Pe()!==a?t=e={kind:o,from:r,to:i}:(oe=t,t=a),t===a&&(t=oe,(e=Pe())!==a?(42===n.charCodeAt(oe)?(r="*",oe++):(r=a,0===se&&pe(S)),r!==a&&Pe()!==a&&(o=Ae())!==a&&Pe()!==a&&(i=Le())!==a&&Pe()!==a?(e=function(t,e){return{kind:t,from:"*",to:e}}(o,i),t=e):(oe=t,t=a)):(oe=t,t=a),t===a&&(t=oe,(e=Pe())!==a&&(r=Le())!==a&&Pe()!==a&&(o=Ce())!==a&&Pe()!==a?(42===n.charCodeAt(oe)?(i="*",oe++):(i=a,0===se&&pe(S)),i!==a&&Pe()!==a?(e=k(r,o),t=e):(oe=t,t=a)):(oe=t,t=a),t===a&&(t=oe,(e=Pe())!==a&&(r=Le())!==a&&Pe()!==a&&(o=_e())!==a&&Pe()!==a?(42===n.charCodeAt(oe)?(i="*",oe++):(i=a,0===se&&pe(S)),i!==a&&Pe()!==a?(e=k(r,o),t=e):(oe=t,t=a)):(oe=t,t=a)))),t}())!==a&&(r=r),(e=r)===a&&(e=oe,(r=function(){var t,e,r;return t=oe,(e=Pe())!==a&&(r=function(){var t;return se++,"---"===n.substr(oe,3)?(t="---",oe+=3):(t=a,0===se&&pe(F)),se--,t===a&&0===se&&pe(O),t}())!==a&&Pe()!==a?(e=A(r),t=e):(oe=t,t=a),t}())!==a&&(r=r),e=r)),e!==a?(r=oe,58===n.charCodeAt(oe)?(o=":",oe++):(o=a,0===se&&pe(C)),o!==a&&Pe()!==a&&(i=Se())!==a&&Pe()!==a?r=o=i:(oe=r,r=a),r===a&&(r=null),r!==a?(u=e,(s=r)&&(u.label=s),t=e=u):(oe=t,t=a)):(oe=t,t=a),t}())===a&&(t=function(){var t,e,r,o,i,u,s,c,l,f;return t=oe,Pe()!==a&&(e=Le())!==a&&Pe()!==a&&(r=function(){var t,e;return se++,t=oe,"alt"===n.substr(oe,3).toLowerCase()?(e=n.substr(oe,3),oe+=3):(e=a,0===se&&pe(lt)),e===a&&("else"===n.substr(oe,4).toLowerCase()?(e=n.substr(oe,4),oe+=4):(e=a,0===se&&pe(ft)),e===a&&("opt"===n.substr(oe,3).toLowerCase()?(e=n.substr(oe,3),oe+=3):(e=a,0===se&&pe(dt)),e===a&&("break"===n.substr(oe,5).toLowerCase()?(e=n.substr(oe,5),oe+=5):(e=a,0===se&&pe(ht)),e===a&&("par"===n.substr(oe,3).toLowerCase()?(e=n.substr(oe,3),oe+=3):(e=a,0===se&&pe(pt)),e===a&&("seq"===n.substr(oe,3).toLowerCase()?(e=n.substr(oe,3),oe+=3):(e=a,0===se&&pe(gt)),e===a&&("strict"===n.substr(oe,6).toLowerCase()?(e=n.substr(oe,6),oe+=6):(e=a,0===se&&pe(bt)),e===a&&("neg"===n.substr(oe,3).toLowerCase()?(e=n.substr(oe,3),oe+=3):(e=a,0===se&&pe(yt)),e===a&&("critical"===n.substr(oe,8).toLowerCase()?(e=n.substr(oe,8),oe+=8):(e=a,0===se&&pe(mt)),e===a&&("ignore"===n.substr(oe,6).toLowerCase()?(e=n.substr(oe,6),oe+=6):(e=a,0===se&&pe(vt)),e===a&&("consider"===n.substr(oe,8).toLowerCase()?(e=n.substr(oe,8),oe+=8):(e=a,0===se&&pe(xt)),e===a&&("assert"===n.substr(oe,6).toLowerCase()?(e=n.substr(oe,6),oe+=6):(e=a,0===se&&pe(wt)),e===a&&("loop"===n.substr(oe,4).toLowerCase()?(e=n.substr(oe,4),oe+=4):(e=a,0===se&&pe(_t)),e===a&&("ref"===n.substr(oe,3).toLowerCase()?(e=n.substr(oe,3),oe+=3):(e=a,0===se&&pe(Ct)),e===a&&("exc"===n.substr(oe,3).toLowerCase()?(e=n.substr(oe,3),oe+=3):(e=a,0===se&&pe(At)))))))))))))))),e!==a&&(e=e.toLowerCase()),se--,(t=e)===a&&(e=a,0===se&&pe(ct)),t}())!==a&&Pe()!==a&&(o=Le())!==a&&Pe()!==a?(i=oe,58===n.charCodeAt(oe)?(u=":",oe++):(u=a,0===se&&pe(C)),u!==a&&Pe()!==a&&(s=Se())!==a&&Pe()!==a?i=u=s:(oe=i,i=a),i===a&&(i=null),i!==a?(123===n.charCodeAt(oe)?(u="{",oe++):(u=a,0===se&&pe(L)),u!==a&&Pe()!==a?((s=ve())===a&&(s=null),s!==a&&Pe()!==a?(125===n.charCodeAt(oe)?(c="}",oe++):(c=a,0===se&&pe(E)),c!==a&&Pe()!==a?(f={kind:r,from:e,to:o,arcs:s},(l=i)&&(f.label=l),t=f):(oe=t,t=a)):(oe=t,t=a)):(oe=t,t=a)):(oe=t,t=a)):(oe=t,t=a),t}()),t}function _e(){var t;return se++,"--"===n.substr(oe,2)?(t="--",oe+=2):(t=a,0===se&&pe(P)),t===a&&("<->"===n.substr(oe,3)?(t="<->",oe+=3):(t=a,0===se&&pe(D)),t===a&&("=="===n.substr(oe,2)?(t="==",oe+=2):(t=a,0===se&&pe(N)),t===a&&("<<=>>"===n.substr(oe,5)?(t="<<=>>",oe+=5):(t=a,0===se&&pe(B)),t===a&&("<=>"===n.substr(oe,3)?(t="<=>",oe+=3):(t=a,0===se&&pe(H)),t===a&&(".."===n.substr(oe,2)?(t="..",oe+=2):(t=a,0===se&&pe(W)),t===a&&("<<>>"===n.substr(oe,4)?(t="<<>>",oe+=4):(t=a,0===se&&pe(R)),t===a&&("::"===n.substr(oe,2)?(t="::",oe+=2):(t=a,0===se&&pe(G)),t===a&&("<:>"===n.substr(oe,3)?(t="<:>",oe+=3):(t=a,0===se&&pe(z)))))))))),se--,t===a&&0===se&&pe(I),t}function Ce(){var t;return se++,"->"===n.substr(oe,2)?(t="->",oe+=2):(t=a,0===se&&pe(V)),t===a&&("=>>"===n.substr(oe,3)?(t="=>>",oe+=3):(t=a,0===se&&pe(q)),t===a&&("=>"===n.substr(oe,2)?(t="=>",oe+=2):(t=a,0===se&&pe(U)),t===a&&(">>"===n.substr(oe,2)?(t=">>",oe+=2):(t=a,0===se&&pe($)),t===a&&(":>"===n.substr(oe,2)?(t=":>",oe+=2):(t=a,0===se&&pe(K)),t===a&&("-x"===n.substr(oe,2).toLowerCase()?(t=n.substr(oe,2),oe+=2):(t=a,0===se&&pe(Z))))))),se--,t===a&&0===se&&pe(X),t}function Ae(){var t;return se++,"<-"===n.substr(oe,2)?(t="<-",oe+=2):(t=a,0===se&&pe(J)),t===a&&("<<="===n.substr(oe,3)?(t="<<=",oe+=3):(t=a,0===se&&pe(Q)),t===a&&("<="===n.substr(oe,2)?(t="<=",oe+=2):(t=a,0===se&&pe(tt)),t===a&&("<<"===n.substr(oe,2)?(t="<<",oe+=2):(t=a,0===se&&pe(et)),t===a&&("<:"===n.substr(oe,2)?(t="<:",oe+=2):(t=a,0===se&&pe(rt)),t===a&&("x-"===n.substr(oe,2).toLowerCase()?(t=n.substr(oe,2),oe+=2):(t=a,0===se&&pe(nt))))))),se--,t===a&&0===se&&pe(Y),t}function Se(){var t,e;return(t=ke())===a&&((e=function(){var t,e,r,o;for(t=[],e=oe,r=oe,se++,44===n.charCodeAt(oe)?(o=",",oe++):(o=a,0===se&&pe(l)),o===a&&(59===n.charCodeAt(oe)?(o=";",oe++):(o=a,0===se&&pe(f)),o===a&&(123===n.charCodeAt(oe)?(o="{",oe++):(o=a,0===se&&pe(L)))),se--,o===a?r=void 0:(oe=r,r=a),r!==a?(n.length>oe?(o=n.charAt(oe),oe++):(o=a,0===se&&pe(Et)),o!==a?e=r=o:(oe=e,e=a)):(oe=e,e=a);e!==a;)t.push(e),e=oe,r=oe,se++,44===n.charCodeAt(oe)?(o=",",oe++):(o=a,0===se&&pe(l)),o===a&&(59===n.charCodeAt(oe)?(o=";",oe++):(o=a,0===se&&pe(f)),o===a&&(123===n.charCodeAt(oe)?(o="{",oe++):(o=a,0===se&&pe(L)))),se--,o===a?r=void 0:(oe=r,r=a),r!==a?(n.length>oe?(o=n.charAt(oe),oe++):(o=a,0===se&&pe(Et)),o!==a?e=r=o:(oe=e,e=a)):(oe=e,e=a);return t}())!==a&&(e=e.join("").trim()),t=e),t}function ke(){var t,e,r,o;return se++,t=oe,34===n.charCodeAt(oe)?(e='"',oe++):(e=a,0===se&&pe(kt)),e!==a&&(r=function(){var t,e,r,o;for(t=[],e=oe,r=oe,se++,34===n.charCodeAt(oe)?(o='"',oe++):(o=a,0===se&&pe(kt)),se--,o===a?r=void 0:(oe=r,r=a),r!==a?('\\"'===n.substr(oe,2)?(o='\\"',oe+=2):(o=a,0===se&&pe(Lt)),o===a&&(n.length>oe?(o=n.charAt(oe),oe++):(o=a,0===se&&pe(Et))),o!==a?e=r=o:(oe=e,e=a)):(oe=e,e=a);e!==a;)t.push(e),e=oe,r=oe,se++,34===n.charCodeAt(oe)?(o='"',oe++):(o=a,0===se&&pe(kt)),se--,o===a?r=void 0:(oe=r,r=a),r!==a?('\\"'===n.substr(oe,2)?(o='\\"',oe+=2):(o=a,0===se&&pe(Lt)),o===a&&(n.length>oe?(o=n.charAt(oe),oe++):(o=a,0===se&&pe(Et))),o!==a?e=r=o:(oe=e,e=a)):(oe=e,e=a);return t}())!==a?(34===n.charCodeAt(oe)?(o='"',oe++):(o=a,0===se&&pe(kt)),o!==a?t=e=r.join(""):(oe=t,t=a)):(oe=t,t=a),se--,t===a&&(e=a,0===se&&pe(St)),t}function Le(){var t,e,r;if(se++,t=oe,e=[],jt.test(n.charAt(oe))?(r=n.charAt(oe),oe++):(r=a,0===se&&pe(Mt)),r!==a)for(;r!==a;)e.push(r),jt.test(n.charAt(oe))?(r=n.charAt(oe),oe++):(r=a,0===se&&pe(Mt));else e=a;return e!==a&&(e=e.join("")),(t=e)===a&&(t=ke()),se--,t===a&&(e=a,0===se&&pe(Tt)),t}function Ee(){var t,e;return se++,t=oe,Ft.test(n.charAt(oe))?(e=n.charAt(oe),oe++):(e=a,0===se&&pe(It)),e!==a&&(e=e),se--,(t=e)===a&&(e=a,0===se&&pe(Ot)),t}function Te(){var t,e;return se++,t=oe,Dt.test(n.charAt(oe))?(e=n.charAt(oe),oe++):(e=a,0===se&&pe(Nt)),e!==a&&(e=e),se--,(t=e)===a&&(e=a,0===se&&pe(Pt)),t}function je(){var t,e,r;return t=oe,e=oe,se++,"*/"===n.substr(oe,2)?(r="*/",oe+=2):(r=a,0===se&&pe(Ht)),se--,r===a?e=void 0:(oe=e,e=a),e!==a?(n.length>oe?(r=n.charAt(oe),oe++):(r=a,0===se&&pe(Et)),r!==a?t=e=r:(oe=t,t=a)):(oe=t,t=a),t}function Me(){var t,e,r,o,i;if(t=oe,(e=function(){var t;return"/*"===n.substr(oe,2)?(t="/*",oe+=2):(t=a,0===se&&pe(Bt)),t}())!==a){for(r=[],o=je();o!==a;)r.push(o),o=je();r!==a&&(o=function(){var t;return"*/"===n.substr(oe,2)?(t="*/",oe+=2):(t=a,0===se&&pe(Ht)),t}())!==a?(i=o,t=e=e+r.join("")+i):(oe=t,t=a)}else oe=t,t=a;return t}function Oe(){var t;return Gt.test(n.charAt(oe))?(t=n.charAt(oe),oe++):(t=a,0===se&&pe(zt)),t}function Fe(){var t,e,r,o;if(t=oe,(e=function(){var t;return"//"===n.substr(oe,2)?(t="//",oe+=2):(t=a,0===se&&pe(Wt)),t===a&&(35===n.charCodeAt(oe)?(t="#",oe++):(t=a,0===se&&pe(Rt))),t}())!==a){for(r=[],o=Oe();o!==a;)r.push(o),o=Oe();r!==a?t=e+=r.join(""):(oe=t,t=a)}else oe=t,t=a;return t}function Ie(){var t;return se++,(t=Fe())===a&&(t=Me()),se--,t===a&&0===se&&pe(Xt),t}function Pe(){var t,e;for(t=[],(e=Ee())===a&&(e=Te())===a&&(e=Ie());e!==a;)t.push(e),(e=Ee())===a&&(e=Te())===a&&(e=Ie());return t}function De(){var t,e,r,o,i;return e=oe,(r=Ne())!==a?(46===n.charCodeAt(oe)?(o=".",oe++):(o=a,0===se&&pe($t)),o!==a&&(i=Ne())!==a?e=r=[r,o,i]:(oe=e,e=a)):(oe=e,e=a),e!==a&&(e=parseFloat(e.join(""))),(t=e)===a&&(t=Ne()),t}function Ne(){var t,e;if(oe,t=[],qt.test(n.charAt(oe))?(e=n.charAt(oe),oe++):(e=a,0===se&&pe(Ut)),e!==a)for(;e!==a;)t.push(e),qt.test(n.charAt(oe))?(e=n.charAt(oe),oe++):(e=a,0===se&&pe(Ut));else t=a;return t!==a&&(t=parseInt(t.join(""),10)),t}function Be(){var t,e;return se++,t=oe,(e=function(){var t,e,r,o;return t=oe,34===n.charCodeAt(oe)?(e='"',oe++):(e=a,0===se&&pe(kt)),e!==a&&(r=He())!==a?(34===n.charCodeAt(oe)?(o='"',oe++):(o=a,0===se&&pe(kt)),o!==a?t=e=r:(oe=t,t=a)):(oe=t,t=a),t}())!==a&&(e=e),(t=e)===a&&(t=oe,(e=He())!==a&&(e=e.toString()),t=e),se--,t===a&&(e=a,0===se&&pe(Kt)),t}function He(){var t;return"true"===n.substr(oe,4).toLowerCase()?(t=n.substr(oe,4),oe+=4):(t=a,0===se&&pe(Zt)),t===a&&("false"===n.substr(oe,5).toLowerCase()?(t=n.substr(oe,5),oe+=5):(t=a,0===se&&pe(Yt)),t===a&&("on"===n.substr(oe,2).toLowerCase()?(t=n.substr(oe,2),oe+=2):(t=a,0===se&&pe(Jt)),t===a&&("off"===n.substr(oe,3).toLowerCase()?(t=n.substr(oe,3),oe+=3):(t=a,0===se&&pe(Qt)),t===a&&(48===n.charCodeAt(oe)?(t="0",oe++):(t=a,0===se&&pe(te)),t===a&&(49===n.charCodeAt(oe)?(t="1",oe++):(t=a,0===se&&pe(ee))))))),t}function We(){var t,e;return t=oe,(e=De())!==a&&(e=e.toString()),(t=e)===a&&(t=oe,"auto"===n.substr(oe,4).toLowerCase()?(e=n.substr(oe,4),oe+=4):(e=a,0===se&&pe(ne)),e!==a&&(e=e.toLowerCase()),t=e),t}function Re(t,r,n){return!(e.entityExists(t,r)||!0===n[r])}function Ge(t){return{name:t}}if((i=s())!==a&&oe===n.length)return i;throw i!==a&&oe<n.length&&pe({type:"end"}),ge(ue,ae<n.length?n.charAt(ae):null,ae<n.length?he(ae,ae+1):he(ae,ae))}}})?n.apply(e,o):n)||(t.exports=i)},function(t,e,r){var n,o,i;o=[r(7),r(3)],void 0===(i="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?i(t.parts[e][0])+"-"+i(t.parts[e][1]):i(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}return"Expected "+function(t){var e,n,o,i=new Array(t.length);for(e=0;e<t.length;e++)i[e]=(o=t[e],r[o.type](o));if(i.sort(),i.length>0){for(e=1,n=1;e<i.length;e++)i[e-1]!==i[e]&&(i[n]=i[e],n++);i.length=n}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){o=void 0!==o?o:{};var i,a={},u={program:Ve},s=Ve,c=Be("{",!1),l=Be("}",!1),f=Be("msc",!0),d=Be("xu",!0),h=Be(",",!1),p=Be(";",!1),g=We("option"),b=Be("hscale",!0),y=Be("arcgradient",!0),m=Be("=",!1),v=function(t,r){return e.nameValue2Option(t,r)},x=Be("width",!0),w=Be("wordwraparcs",!0),_=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))},C=Be("wordwrapentities",!0),A=Be("wordwrapboxes",!0),S=Be("watermark",!0),k=We("entity"),L=Be("[",!1),E=Be("]",!1),T=function(t,e){return e},j=function(n,o){return e.isMscGenKeyword(n)&&function(t,e){throw e=void 0!==e?e:Ge(Fe,Oe),function(t,e){return new r(t,null,null,e)}(t,e)}("MscGen keywords aren't allowed as entity names (embed them in quotes if you need them)"),t({name:n},o)},M=function(t){return{kind:t}},O=Be("*",!1),F=function(t,e){return{kind:e,from:t,to:"*"}},I=We("empty row"),P=Be("|||",!1),D=Be("...",!1),N=We("---"),B=Be("---",!1),H=We("bi-directional arrow"),W=Be("--",!1),R=Be("<->",!1),G=Be("==",!1),z=Be("<<=>>",!1),X=Be("<=>",!1),V=Be("..",!1),q=Be("<<>>",!1),U=Be("::",!1),$=Be("<:>",!1),K=We("left to right arrow"),Z=Be("->",!1),Y=Be("=>>",!1),J=Be("=>",!1),Q=Be(">>",!1),tt=Be(":>",!1),et=Be("-x",!0),rt=We("right to left arrow"),nt=Be("<-",!1),ot=Be("<<=",!1),it=Be("<=",!1),at=Be("<<",!1),ut=Be("<:",!1),st=Be("x-",!0),ct=We("box"),lt=Be("note",!0),ft=Be("abox",!0),dt=Be("rbox",!0),ht=Be("box",!0),pt=We("inline expression"),gt=Be("alt",!0),bt=Be("else",!0),yt=Be("opt",!0),mt=Be("break",!0),vt=Be("par",!0),xt=Be("seq",!0),wt=Be("strict",!0),_t=Be("neg",!0),Ct=Be("critical",!0),At=Be("ignore",!0),St=Be("consider",!0),kt=Be("assert",!0),Lt=Be("loop",!0),Et=Be("ref",!0),Tt=Be("exc",!0),jt=We("activate or deactivate"),Mt=Be("activate",!0),Ot=Be("deactivate",!0),Ft=We("attribute name"),It=Be("label",!0),Pt=Be("idurl",!0),Dt=Be("id",!0),Nt=Be("url",!0),Bt=Be("linecolor",!0),Ht=Be("linecolour",!0),Wt=Be("textcolor",!0),Rt=Be("textcolour",!0),Gt=Be("textbgcolor",!0),zt=Be("textbgcolour",!0),Xt=Be("arclinecolor",!0),Vt=Be("arclinecolour",!0),qt=Be("arctextcolor",!0),Ut=Be("arctextcolour",!0),$t=Be("arctextbgcolor",!0),Kt=Be("arctextbgcolour",!0),Zt=Be("arcskip",!0),Yt=Be("title",!0),Jt=Be("activation",!0),Qt=We("double quoted string"),te=Be('"',!1),ee=Be('\\"',!1),re={type:"any"},ne=We("identifier"),oe=/^[A-Za-z_0-9]/,ie=He([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),ae=We("whitespace"),ue=/^[ \t]/,se=He([" ","\t"],!1,!1),ce=We("lineend"),le=/^[\r\n]/,fe=He(["\r","\n"],!1,!1),de=Be("/*",!1),he=Be("*/",!1),pe=Be("//",!1),ge=Be("#",!1),be=/^[^\r\n]/,ye=He(["\r","\n"],!0,!1),me=We("comment"),ve=We("number"),xe=/^[0-9]/,we=He([["0","9"]],!1,!1),_e=Be(".",!1),Ce=We("boolean"),Ae=Be("true",!0),Se=Be("false",!0),ke=Be("on",!0),Le=Be("off",!0),Ee=Be("0",!1),Te=Be("1",!1),je=We("size"),Me=Be("auto",!0),Oe=0,Fe=0,Ie=[{line:1,column:1}],Pe=0,De=[],Ne=0;if("startRule"in o){if(!(o.startRule in u))throw new Error("Can't start parsing from rule \""+o.startRule+'".');s=u[o.startRule]}function Be(t,e){return{type:"literal",text:t,ignoreCase:e}}function He(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function We(t){return{type:"other",description:t}}function Re(t){var e,r=Ie[t];if(r)return r;for(e=t-1;!Ie[e];)e--;for(r={line:(r=Ie[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return Ie[t]=r,r}function Ge(t,e){var r=Re(t),n=Re(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function ze(t){Oe<Pe||(Oe>Pe&&(Pe=Oe,De=[]),De.push(t))}function Xe(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function Ve(){var r,o,i,u,s,g,b;return r=Oe,(o=dr())!==a&&function(){var t;return"msc"===n.substr(Oe,3).toLowerCase()?(t=n.substr(Oe,3),Oe+=3):(t=a,0===Ne&&ze(f)),t===a&&("xu"===n.substr(Oe,2).toLowerCase()?(t=n.substr(Oe,2),Oe+=2):(t=a,0===Ne&&ze(d))),t}()!==a&&dr()!==a?(123===n.charCodeAt(Oe)?(i="{",Oe++):(i=a,0===Ne&&ze(c)),i!==a&&dr()!==a&&(u=function(){var e,r,o,i;return e=Oe,(r=function(){var e,r,o,i,u,s;for(e=Oe,r=Oe,o=[],i=Oe,(u=qe())!==a?(44===n.charCodeAt(Oe)?(s=",",Oe++):(s=a,0===Ne&&ze(h)),s!==a?(Fe=i,i=u=u):(Oe=i,i=a)):(Oe=i,i=a);i!==a;)o.push(i),i=Oe,(u=qe())!==a?(44===n.charCodeAt(Oe)?(s=",",Oe++):(s=a,0===Ne&&ze(h)),s!==a?(Fe=i,i=u=u):(Oe=i,i=a)):(Oe=i,i=a);return o!==a?(i=Oe,(u=qe())!==a?(59===n.charCodeAt(Oe)?(s=";",Oe++):(s=a,0===Ne&&ze(p)),s!==a?(Fe=i,i=u=u):(Oe=i,i=a)):(Oe=i,i=a),i!==a?r=o=[o,i]:(Oe=r,r=a)):(Oe=r,r=a),r!==a&&(Fe=e,r=function(e){return e[0].concat(e[1]).reduce(t,{})}(r)),e=r}())===a&&(r=null),r!==a?((o=function(){var t,e,r,o,i,u,s;for(t=Oe,e=Oe,r=[],o=Oe,(i=Ue())!==a?(44===n.charCodeAt(Oe)?(u=",",Oe++):(u=a,0===Ne&&ze(h)),u!==a?(Fe=o,o=i=i):(Oe=o,o=a)):(Oe=o,o=a);o!==a;)r.push(o),o=Oe,(i=Ue())!==a?(44===n.charCodeAt(Oe)?(u=",",Oe++):(u=a,0===Ne&&ze(h)),u!==a?(Fe=o,o=i=i):(Oe=o,o=a)):(Oe=o,o=a);return r!==a?(o=Oe,(i=Ue())!==a?(59===n.charCodeAt(Oe)?(u=";",Oe++):(u=a,0===Ne&&ze(p)),u!==a?(Fe=o,o=i=i):(Oe=o,o=a)):(Oe=o,o=a),o!==a?e=r=[r,o]:(Oe=e,e=a)):(Oe=e,e=a),e!==a&&(Fe=t,e=(s=e)[0].concat(s[1])),t=e}())===a&&(o=null),o!==a?((i=$e())===a&&(i=null),i!==a?(Fe=e,r=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n}(r,o,i),e=r):(Oe=e,e=a)):(Oe=e,e=a)):(Oe=e,e=a),e}())!==a&&dr()!==a?(125===n.charCodeAt(Oe)?(s="}",Oe++):(s=a,0===Ne&&ze(l)),s!==a&&dr()!==a?(Fe=r,g=o,(b=u).entities=b.entities||[],e.checkForUndeclaredEntities(b.entities,b.arcs),b=t({meta:e.getMetaInfo(b.options,b.arcs)},b),g.length>0&&(b=t({precomment:g},b)),r=o=b):(Oe=r,r=a)):(Oe=r,r=a)):(Oe=r,r=a),r}function qe(){var t,e,r,o;return Ne++,t=Oe,dr()!==a?("hscale"===n.substr(Oe,6).toLowerCase()?(e=n.substr(Oe,6),Oe+=6):(e=a,0===Ne&&ze(b)),e===a&&("arcgradient"===n.substr(Oe,11).toLowerCase()?(e=n.substr(Oe,11),Oe+=11):(e=a,0===Ne&&ze(y))),e!==a&&dr()!==a?(61===n.charCodeAt(Oe)?(r="=",Oe++):(r=a,0===Ne&&ze(m)),r!==a&&dr()!==a&&(o=function(){var t,e;return Ne++,t=Oe,(e=function(){var t,e,r,o;return t=Oe,34===n.charCodeAt(Oe)?(e='"',Oe++):(e=a,0===Ne&&ze(te)),e!==a&&(r=hr())!==a?(34===n.charCodeAt(Oe)?(o='"',Oe++):(o=a,0===Ne&&ze(te)),o!==a?(Fe=t,e=r.toString(),t=e):(Oe=t,t=a)):(Oe=t,t=a),t}())!==a&&(Fe=t,e=e),(t=e)===a&&(t=Oe,(e=hr())!==a&&(Fe=t,e=e.toString()),t=e),Ne--,t===a&&(e=a,0===Ne&&ze(ve)),t}())!==a&&dr()!==a?(Fe=t,t=v(e,o)):(Oe=t,t=a)):(Oe=t,t=a)):(Oe=t,t=a),t===a&&(t=Oe,dr()!==a?("width"===n.substr(Oe,5).toLowerCase()?(e=n.substr(Oe,5),Oe+=5):(e=a,0===Ne&&ze(x)),e!==a&&dr()!==a?(61===n.charCodeAt(Oe)?(r="=",Oe++):(r=a,0===Ne&&ze(m)),r!==a&&dr()!==a&&(o=function(){var t;return Ne++,(t=function(){var t,e,r,o;return t=Oe,34===n.charCodeAt(Oe)?(e='"',Oe++):(e=a,0===Ne&&ze(te)),e!==a&&(r=yr())!==a?(34===n.charCodeAt(Oe)?(o='"',Oe++):(o=a,0===Ne&&ze(te)),o!==a?(Fe=t,t=e=r):(Oe=t,t=a)):(Oe=t,t=a),t}())===a&&(t=yr()),Ne--,t===a&&0===Ne&&ze(je),t}())!==a&&dr()!==a?(Fe=t,t=v(e,o)):(Oe=t,t=a)):(Oe=t,t=a)):(Oe=t,t=a),t===a&&(t=Oe,dr()!==a?("wordwraparcs"===n.substr(Oe,12).toLowerCase()?(e=n.substr(Oe,12),Oe+=12):(e=a,0===Ne&&ze(w)),e!==a&&dr()!==a?(61===n.charCodeAt(Oe)?(r="=",Oe++):(r=a,0===Ne&&ze(m)),r!==a&&dr()!==a&&(o=gr())!==a&&dr()!==a?(Fe=t,t=_(e,o)):(Oe=t,t=a)):(Oe=t,t=a)):(Oe=t,t=a),t===a&&(t=Oe,dr()!==a?("wordwrapentities"===n.substr(Oe,16).toLowerCase()?(e=n.substr(Oe,16),Oe+=16):(e=a,0===Ne&&ze(C)),e!==a&&dr()!==a?(61===n.charCodeAt(Oe)?(r="=",Oe++):(r=a,0===Ne&&ze(m)),r!==a&&dr()!==a&&(o=gr())!==a&&dr()!==a?(Fe=t,t=_(e,o)):(Oe=t,t=a)):(Oe=t,t=a)):(Oe=t,t=a),t===a&&(t=Oe,dr()!==a?("wordwrapboxes"===n.substr(Oe,13).toLowerCase()?(e=n.substr(Oe,13),Oe+=13):(e=a,0===Ne&&ze(A)),e!==a&&dr()!==a?(61===n.charCodeAt(Oe)?(r="=",Oe++):(r=a,0===Ne&&ze(m)),r!==a&&dr()!==a&&(o=gr())!==a&&dr()!==a?(Fe=t,t=_(e,o)):(Oe=t,t=a)):(Oe=t,t=a)):(Oe=t,t=a),t===a&&(t=Oe,dr()!==a?("watermark"===n.substr(Oe,9).toLowerCase()?(e=n.substr(Oe,9),Oe+=9):(e=a,0===Ne&&ze(S)),e!==a&&dr()!==a?(61===n.charCodeAt(Oe)?(r="=",Oe++):(r=a,0===Ne&&ze(m)),r!==a&&dr()!==a&&(o=rr())!==a&&dr()!==a?(Fe=t,t=v(e,o)):(Oe=t,t=a)):(Oe=t,t=a)):(Oe=t,t=a)))))),Ne--,t===a&&0===Ne&&ze(g),t}function Ue(){var e,r,o,i,u,s;return Ne++,e=Oe,dr()!==a&&(r=rr())!==a&&dr()!==a?(o=Oe,91===n.charCodeAt(Oe)?(i="[",Oe++):(i=a,0===Ne&&ze(L)),i!==a&&(u=tr())!==a?(93===n.charCodeAt(Oe)?(s="]",Oe++):(s=a,0===Ne&&ze(E)),s!==a?(Fe=o,o=i=T(0,u)):(Oe=o,o=a)):(Oe=o,o=a),o===a&&(o=null),o!==a&&(i=dr())!==a?(Fe=e,e=t({name:r},o)):(Oe=e,e=a)):(Oe=e,e=a),e===a&&(e=Oe,dr()!==a&&(r=or())!==a&&dr()!==a?(o=Oe,91===n.charCodeAt(Oe)?(i="[",Oe++):(i=a,0===Ne&&ze(L)),i!==a&&(u=tr())!==a?(93===n.charCodeAt(Oe)?(s="]",Oe++):(s=a,0===Ne&&ze(E)),s!==a?(Fe=o,o=i=T(0,u)):(Oe=o,o=a)):(Oe=o,o=a),o===a&&(o=null),o!==a&&(i=dr())!==a?(Fe=e,e=j(r,o)):(Oe=e,e=a)):(Oe=e,e=a)),Ne--,e===a&&0===Ne&&ze(k),e}function $e(){var t,e,r,o;if(t=[],e=Oe,(r=Ke())!==a&&dr()!==a?(59===n.charCodeAt(Oe)?(o=";",Oe++):(o=a,0===Ne&&ze(p)),o!==a?(Fe=e,e=r=r):(Oe=e,e=a)):(Oe=e,e=a),e!==a)for(;e!==a;)t.push(e),e=Oe,(r=Ke())!==a&&dr()!==a?(59===n.charCodeAt(Oe)?(o=";",Oe++):(o=a,0===Ne&&ze(p)),o!==a?(Fe=e,e=r=r):(Oe=e,e=a)):(Oe=e,e=a);else t=a;return t}function Ke(){var t,e,r,o,i,u,s;for(t=Oe,e=Oe,r=[],o=Oe,(i=Ze())!==a&&dr()!==a?(44===n.charCodeAt(Oe)?(u=",",Oe++):(u=a,0===Ne&&ze(h)),u!==a?(Fe=o,o=i=i):(Oe=o,o=a)):(Oe=o,o=a);o!==a;)r.push(o),o=Oe,(i=Ze())!==a&&dr()!==a?(44===n.charCodeAt(Oe)?(u=",",Oe++):(u=a,0===Ne&&ze(h)),u!==a?(Fe=o,o=i=i):(Oe=o,o=a)):(Oe=o,o=a);return r!==a?(o=Oe,(i=Ze())!==a&&(Fe=o,i=i),(o=i)!==a?e=r=[r,o]:(Oe=e,e=a)):(Oe=e,e=a),e!==a&&(Fe=t,e=(s=e)[0].concat(s[1])),t=e}function Ze(){var e;return(e=function(){var e,r,o,i,u,s;return e=Oe,r=Oe,(o=function(){var t,e,r;return t=Oe,(e=dr())!==a&&(r=function(){var t;return Ne++,"|||"===n.substr(Oe,3)?(t="|||",Oe+=3):(t=a,0===Ne&&ze(P)),t===a&&("..."===n.substr(Oe,3)?(t="...",Oe+=3):(t=a,0===Ne&&ze(D))),Ne--,t===a&&0===Ne&&ze(I),t}())!==a&&dr()!==a?(Fe=t,e=M(r),t=e):(Oe=t,t=a),t}())!==a&&(Fe=r,o=o),(r=o)===a&&(r=Oe,(o=function(){var t,e,r,o,i;return t=Oe,(e=dr())!==a&&(r=nr())!==a&&dr()!==a&&(o=function(){var t,e;return t=Oe,(e=Ye())===a&&(e=Je())===a&&(e=Qe())===a&&(e=function(){var t;return Ne++,"note"===n.substr(Oe,4).toLowerCase()?(t=n.substr(Oe,4),Oe+=4):(t=a,0===Ne&&ze(lt)),t===a&&("abox"===n.substr(Oe,4).toLowerCase()?(t=n.substr(Oe,4),Oe+=4):(t=a,0===Ne&&ze(ft)),t===a&&("rbox"===n.substr(Oe,4).toLowerCase()?(t=n.substr(Oe,4),Oe+=4):(t=a,0===Ne&&ze(dt)),t===a&&("box"===n.substr(Oe,3).toLowerCase()?(t=n.substr(Oe,3),Oe+=3):(t=a,0===Ne&&ze(ht))))),Ne--,t===a&&0===Ne&&ze(ct),t}()),e!==a&&(Fe=t,e=e.toLowerCase()),t=e}())!==a&&dr()!==a&&(i=nr())!==a&&dr()!==a?(Fe=t,t=e={kind:o,from:r,to:i}):(Oe=t,t=a),t===a&&(t=Oe,(e=dr())!==a?(42===n.charCodeAt(Oe)?(r="*",Oe++):(r=a,0===Ne&&ze(O)),r!==a&&dr()!==a&&(o=Qe())!==a&&dr()!==a&&(i=nr())!==a&&dr()!==a?(Fe=t,e=function(t,e){return{kind:t,from:"*",to:e}}(o,i),t=e):(Oe=t,t=a)):(Oe=t,t=a),t===a&&(t=Oe,(e=dr())!==a&&(r=nr())!==a&&dr()!==a&&(o=Je())!==a&&dr()!==a?(42===n.charCodeAt(Oe)?(i="*",Oe++):(i=a,0===Ne&&ze(O)),i!==a&&dr()!==a?(Fe=t,e=F(r,o),t=e):(Oe=t,t=a)):(Oe=t,t=a),t===a&&(t=Oe,(e=dr())!==a&&(r=nr())!==a&&dr()!==a&&(o=Ye())!==a&&dr()!==a?(42===n.charCodeAt(Oe)?(i="*",Oe++):(i=a,0===Ne&&ze(O)),i!==a&&dr()!==a?(Fe=t,e=F(r,o),t=e):(Oe=t,t=a)):(Oe=t,t=a)))),t}())!==a&&(Fe=r,o=o),(r=o)===a&&(r=Oe,(o=function(){var t,e,r;return t=Oe,(e=dr())!==a&&(r=function(){var t;return Ne++,"---"===n.substr(Oe,3)?(t="---",Oe+=3):(t=a,0===Ne&&ze(B)),Ne--,t===a&&0===Ne&&ze(N),t}())!==a&&dr()!==a?(Fe=t,e=M(r),t=e):(Oe=t,t=a),t}())!==a&&(Fe=r,o=o),r=o)),r!==a?(o=Oe,91===n.charCodeAt(Oe)?(i="[",Oe++):(i=a,0===Ne&&ze(L)),i!==a&&(u=tr())!==a?(93===n.charCodeAt(Oe)?(s="]",Oe++):(s=a,0===Ne&&ze(E)),s!==a?(Fe=o,o=i=u):(Oe=o,o=a)):(Oe=o,o=a),o===a&&(o=null),o!==a?(Fe=e,r=function(e,r){return t(e,r)}(r,o),e=r):(Oe=e,e=a)):(Oe=e,e=a),e}())===a&&(e=function(){var e,r,o,i,u,s,f,d,h,p,g;return e=Oe,(r=dr())!==a&&(o=nr())!==a&&dr()!==a&&(i=function(){var t,e;return Ne++,t=Oe,"alt"===n.substr(Oe,3).toLowerCase()?(e=n.substr(Oe,3),Oe+=3):(e=a,0===Ne&&ze(gt)),e===a&&("else"===n.substr(Oe,4).toLowerCase()?(e=n.substr(Oe,4),Oe+=4):(e=a,0===Ne&&ze(bt)),e===a&&("opt"===n.substr(Oe,3).toLowerCase()?(e=n.substr(Oe,3),Oe+=3):(e=a,0===Ne&&ze(yt)),e===a&&("break"===n.substr(Oe,5).toLowerCase()?(e=n.substr(Oe,5),Oe+=5):(e=a,0===Ne&&ze(mt)),e===a&&("par"===n.substr(Oe,3).toLowerCase()?(e=n.substr(Oe,3),Oe+=3):(e=a,0===Ne&&ze(vt)),e===a&&("seq"===n.substr(Oe,3).toLowerCase()?(e=n.substr(Oe,3),Oe+=3):(e=a,0===Ne&&ze(xt)),e===a&&("strict"===n.substr(Oe,6).toLowerCase()?(e=n.substr(Oe,6),Oe+=6):(e=a,0===Ne&&ze(wt)),e===a&&("neg"===n.substr(Oe,3).toLowerCase()?(e=n.substr(Oe,3),Oe+=3):(e=a,0===Ne&&ze(_t)),e===a&&("critical"===n.substr(Oe,8).toLowerCase()?(e=n.substr(Oe,8),Oe+=8):(e=a,0===Ne&&ze(Ct)),e===a&&("ignore"===n.substr(Oe,6).toLowerCase()?(e=n.substr(Oe,6),Oe+=6):(e=a,0===Ne&&ze(At)),e===a&&("consider"===n.substr(Oe,8).toLowerCase()?(e=n.substr(Oe,8),Oe+=8):(e=a,0===Ne&&ze(St)),e===a&&("assert"===n.substr(Oe,6).toLowerCase()?(e=n.substr(Oe,6),Oe+=6):(e=a,0===Ne&&ze(kt)),e===a&&("loop"===n.substr(Oe,4).toLowerCase()?(e=n.substr(Oe,4),Oe+=4):(e=a,0===Ne&&ze(Lt)),e===a&&("ref"===n.substr(Oe,3).toLowerCase()?(e=n.substr(Oe,3),Oe+=3):(e=a,0===Ne&&ze(Et)),e===a&&("exc"===n.substr(Oe,3).toLowerCase()?(e=n.substr(Oe,3),Oe+=3):(e=a,0===Ne&&ze(Tt)))))))))))))))),e!==a&&(Fe=t,e=e.toLowerCase()),Ne--,(t=e)===a&&(e=a,0===Ne&&ze(pt)),t}())!==a&&dr()!==a&&(u=nr())!==a&&dr()!==a?(s=Oe,91===n.charCodeAt(Oe)?(f="[",Oe++):(f=a,0===Ne&&ze(L)),f!==a&&(d=tr())!==a?(93===n.charCodeAt(Oe)?(h="]",Oe++):(h=a,0===Ne&&ze(E)),h!==a?(Fe=s,s=f=d):(Oe=s,s=a)):(Oe=s,s=a),s===a&&(s=null),s!==a&&(f=dr())!==a?(123===n.charCodeAt(Oe)?(d="{",Oe++):(d=a,0===Ne&&ze(c)),d!==a&&(h=dr())!==a?((p=$e())===a&&(p=null),p!==a&&dr()!==a?(125===n.charCodeAt(Oe)?(g="}",Oe++):(g=a,0===Ne&&ze(l)),g!==a&&dr()!==a?(Fe=e,r=function(e,r,n,o,i){return t({kind:r,from:e,to:n,arcs:i},o)}(o,i,u,s,p),e=r):(Oe=e,e=a)):(Oe=e,e=a)):(Oe=e,e=a)):(Oe=e,e=a)):(Oe=e,e=a),e}()),e}function Ye(){var t;return Ne++,"--"===n.substr(Oe,2)?(t="--",Oe+=2):(t=a,0===Ne&&ze(W)),t===a&&("<->"===n.substr(Oe,3)?(t="<->",Oe+=3):(t=a,0===Ne&&ze(R)),t===a&&("=="===n.substr(Oe,2)?(t="==",Oe+=2):(t=a,0===Ne&&ze(G)),t===a&&("<<=>>"===n.substr(Oe,5)?(t="<<=>>",Oe+=5):(t=a,0===Ne&&ze(z)),t===a&&("<=>"===n.substr(Oe,3)?(t="<=>",Oe+=3):(t=a,0===Ne&&ze(X)),t===a&&(".."===n.substr(Oe,2)?(t="..",Oe+=2):(t=a,0===Ne&&ze(V)),t===a&&("<<>>"===n.substr(Oe,4)?(t="<<>>",Oe+=4):(t=a,0===Ne&&ze(q)),t===a&&("::"===n.substr(Oe,2)?(t="::",Oe+=2):(t=a,0===Ne&&ze(U)),t===a&&("<:>"===n.substr(Oe,3)?(t="<:>",Oe+=3):(t=a,0===Ne&&ze($)))))))))),Ne--,t===a&&0===Ne&&ze(H),t}function Je(){var t;return Ne++,"->"===n.substr(Oe,2)?(t="->",Oe+=2):(t=a,0===Ne&&ze(Z)),t===a&&("=>>"===n.substr(Oe,3)?(t="=>>",Oe+=3):(t=a,0===Ne&&ze(Y)),t===a&&("=>"===n.substr(Oe,2)?(t="=>",Oe+=2):(t=a,0===Ne&&ze(J)),t===a&&(">>"===n.substr(Oe,2)?(t=">>",Oe+=2):(t=a,0===Ne&&ze(Q)),t===a&&(":>"===n.substr(Oe,2)?(t=":>",Oe+=2):(t=a,0===Ne&&ze(tt)),t===a&&("-x"===n.substr(Oe,2).toLowerCase()?(t=n.substr(Oe,2),Oe+=2):(t=a,0===Ne&&ze(et))))))),Ne--,t===a&&0===Ne&&ze(K),t}function Qe(){var t;return Ne++,"<-"===n.substr(Oe,2)?(t="<-",Oe+=2):(t=a,0===Ne&&ze(nt)),t===a&&("<<="===n.substr(Oe,3)?(t="<<=",Oe+=3):(t=a,0===Ne&&ze(ot)),t===a&&("<="===n.substr(Oe,2)?(t="<=",Oe+=2):(t=a,0===Ne&&ze(it)),t===a&&("<<"===n.substr(Oe,2)?(t="<<",Oe+=2):(t=a,0===Ne&&ze(at)),t===a&&("<:"===n.substr(Oe,2)?(t="<:",Oe+=2):(t=a,0===Ne&&ze(ut)),t===a&&("x-"===n.substr(Oe,2).toLowerCase()?(t=n.substr(Oe,2),Oe+=2):(t=a,0===Ne&&ze(st))))))),Ne--,t===a&&0===Ne&&ze(rt),t}function tr(){var e,r,o,i,u,s,c;for(e=Oe,r=Oe,o=[],i=Oe,(u=er())!==a?(44===n.charCodeAt(Oe)?(s=",",Oe++):(s=a,0===Ne&&ze(h)),s!==a?(Fe=i,i=u=u):(Oe=i,i=a)):(Oe=i,i=a);i!==a;)o.push(i),i=Oe,(u=er())!==a?(44===n.charCodeAt(Oe)?(s=",",Oe++):(s=a,0===Ne&&ze(h)),s!==a?(Fe=i,i=u=u):(Oe=i,i=a)):(Oe=i,i=a);return o!==a?(i=Oe,(u=er())!==a&&(Fe=i,u=u),(i=u)!==a?r=o=[o,i]:(Oe=r,r=a)):(Oe=r,r=a),r!==a&&(Fe=e,r=(c=r)[0].concat(c[1]).reduce(t,{})),e=r}function er(){var t;return(t=function(){var t,r,o,i,u,s,c;return t=Oe,dr()!==a&&(r=function(){var t;return Ne++,"label"===n.substr(Oe,5).toLowerCase()?(t=n.substr(Oe,5),Oe+=5):(t=a,0===Ne&&ze(It)),t===a&&("idurl"===n.substr(Oe,5).toLowerCase()?(t=n.substr(Oe,5),Oe+=5):(t=a,0===Ne&&ze(Pt)),t===a&&("id"===n.substr(Oe,2).toLowerCase()?(t=n.substr(Oe,2),Oe+=2):(t=a,0===Ne&&ze(Dt)),t===a&&("url"===n.substr(Oe,3).toLowerCase()?(t=n.substr(Oe,3),Oe+=3):(t=a,0===Ne&&ze(Nt)),t===a&&("linecolor"===n.substr(Oe,9).toLowerCase()?(t=n.substr(Oe,9),Oe+=9):(t=a,0===Ne&&ze(Bt)),t===a&&("linecolour"===n.substr(Oe,10).toLowerCase()?(t=n.substr(Oe,10),Oe+=10):(t=a,0===Ne&&ze(Ht)),t===a&&("textcolor"===n.substr(Oe,9).toLowerCase()?(t=n.substr(Oe,9),Oe+=9):(t=a,0===Ne&&ze(Wt)),t===a&&("textcolour"===n.substr(Oe,10).toLowerCase()?(t=n.substr(Oe,10),Oe+=10):(t=a,0===Ne&&ze(Rt)),t===a&&("textbgcolor"===n.substr(Oe,11).toLowerCase()?(t=n.substr(Oe,11),Oe+=11):(t=a,0===Ne&&ze(Gt)),t===a&&("textbgcolour"===n.substr(Oe,12).toLowerCase()?(t=n.substr(Oe,12),Oe+=12):(t=a,0===Ne&&ze(zt)),t===a&&("arclinecolor"===n.substr(Oe,12).toLowerCase()?(t=n.substr(Oe,12),Oe+=12):(t=a,0===Ne&&ze(Xt)),t===a&&("arclinecolour"===n.substr(Oe,13).toLowerCase()?(t=n.substr(Oe,13),Oe+=13):(t=a,0===Ne&&ze(Vt)),t===a&&("arctextcolor"===n.substr(Oe,12).toLowerCase()?(t=n.substr(Oe,12),Oe+=12):(t=a,0===Ne&&ze(qt)),t===a&&("arctextcolour"===n.substr(Oe,13).toLowerCase()?(t=n.substr(Oe,13),Oe+=13):(t=a,0===Ne&&ze(Ut)),t===a&&("arctextbgcolor"===n.substr(Oe,14).toLowerCase()?(t=n.substr(Oe,14),Oe+=14):(t=a,0===Ne&&ze($t)),t===a&&("arctextbgcolour"===n.substr(Oe,15).toLowerCase()?(t=n.substr(Oe,15),Oe+=15):(t=a,0===Ne&&ze(Kt)),t===a&&("arcskip"===n.substr(Oe,7).toLowerCase()?(t=n.substr(Oe,7),Oe+=7):(t=a,0===Ne&&ze(Zt)),t===a&&("title"===n.substr(Oe,5).toLowerCase()?(t=n.substr(Oe,5),Oe+=5):(t=a,0===Ne&&ze(Yt)),t===a&&("activation"===n.substr(Oe,10).toLowerCase()?(t=n.substr(Oe,10),Oe+=10):(t=a,0===Ne&&ze(Jt)))))))))))))))))))),Ne--,t===a&&0===Ne&&ze(Ft),t}())!==a&&dr()!==a?(61===n.charCodeAt(Oe)?(o="=",Oe++):(o=a,0===Ne&&ze(m)),o!==a&&dr()!==a&&(i=nr())!==a&&dr()!==a?(Fe=t,s=i,c={},"activation"===(u=r).toLowerCase()?c.activation=e.flattenBoolean(s):c[u.toLowerCase().replace("colour","color")]=s,t=c):(Oe=t,t=a)):(Oe=t,t=a),t}())===a&&(t=function(){var t,e,r;return Ne++,t=Oe,(e=dr())!==a?("activate"===n.substr(Oe,8).toLowerCase()?(r=n.substr(Oe,8),Oe+=8):(r=a,0===Ne&&ze(Mt)),r===a&&("deactivate"===n.substr(Oe,10).toLowerCase()?(r=n.substr(Oe,10),Oe+=10):(r=a,0===Ne&&ze(Ot))),r!==a&&dr()!==a?(Fe=t,e={activation:"activate"===r.toLowerCase()},t=e):(Oe=t,t=a)):(Oe=t,t=a),Ne--,t===a&&(e=a,0===Ne&&ze(jt)),t}()),t}function rr(){var t,e,r,o;return Ne++,t=Oe,34===n.charCodeAt(Oe)?(e='"',Oe++):(e=a,0===Ne&&ze(te)),e!==a&&(r=function(){var t,e,r,o;for(t=[],e=Oe,r=Oe,Ne++,34===n.charCodeAt(Oe)?(o='"',Oe++):(o=a,0===Ne&&ze(te)),Ne--,o===a?r=void 0:(Oe=r,r=a),r!==a?('\\"'===n.substr(Oe,2)?(o='\\"',Oe+=2):(o=a,0===Ne&&ze(ee)),o===a&&(n.length>Oe?(o=n.charAt(Oe),Oe++):(o=a,0===Ne&&ze(re))),o!==a?(Fe=e,e=r=o):(Oe=e,e=a)):(Oe=e,e=a);e!==a;)t.push(e),e=Oe,r=Oe,Ne++,34===n.charCodeAt(Oe)?(o='"',Oe++):(o=a,0===Ne&&ze(te)),Ne--,o===a?r=void 0:(Oe=r,r=a),r!==a?('\\"'===n.substr(Oe,2)?(o='\\"',Oe+=2):(o=a,0===Ne&&ze(ee)),o===a&&(n.length>Oe?(o=n.charAt(Oe),Oe++):(o=a,0===Ne&&ze(re))),o!==a?(Fe=e,e=r=o):(Oe=e,e=a)):(Oe=e,e=a);return t}())!==a?(34===n.charCodeAt(Oe)?(o='"',Oe++):(o=a,0===Ne&&ze(te)),o!==a?(Fe=t,t=e=r.join("")):(Oe=t,t=a)):(Oe=t,t=a),Ne--,t===a&&(e=a,0===Ne&&ze(Qt)),t}function nr(){var t;return Ne++,(t=or())===a&&(t=rr()),Ne--,t===a&&0===Ne&&ze(ne),t}function or(){var t,e,r;if(t=Oe,e=[],oe.test(n.charAt(Oe))?(r=n.charAt(Oe),Oe++):(r=a,0===Ne&&ze(ie)),r!==a)for(;r!==a;)e.push(r),oe.test(n.charAt(Oe))?(r=n.charAt(Oe),Oe++):(r=a,0===Ne&&ze(ie));else e=a;return e!==a&&(Fe=t,e=e.join("")),t=e}function ir(){var t,e;return Ne++,t=Oe,ue.test(n.charAt(Oe))?(e=n.charAt(Oe),Oe++):(e=a,0===Ne&&ze(se)),e!==a&&(Fe=t,e=e),Ne--,(t=e)===a&&(e=a,0===Ne&&ze(ae)),t}function ar(){var t,e;return Ne++,t=Oe,le.test(n.charAt(Oe))?(e=n.charAt(Oe),Oe++):(e=a,0===Ne&&ze(fe)),e!==a&&(Fe=t,e=e),Ne--,(t=e)===a&&(e=a,0===Ne&&ze(ce)),t}function ur(){var t,e,r;return t=Oe,e=Oe,Ne++,"*/"===n.substr(Oe,2)?(r="*/",Oe+=2):(r=a,0===Ne&&ze(he)),Ne--,r===a?e=void 0:(Oe=e,e=a),e!==a?(n.length>Oe?(r=n.charAt(Oe),Oe++):(r=a,0===Ne&&ze(re)),r!==a?(Fe=t,t=e=r):(Oe=t,t=a)):(Oe=t,t=a),t}function sr(){var t,e,r,o,i;if(t=Oe,(e=function(){var t;return"/*"===n.substr(Oe,2)?(t="/*",Oe+=2):(t=a,0===Ne&&ze(de)),t}())!==a){for(r=[],o=ur();o!==a;)r.push(o),o=ur();r!==a&&(o=function(){var t;return"*/"===n.substr(Oe,2)?(t="*/",Oe+=2):(t=a,0===Ne&&ze(he)),t}())!==a?(Fe=t,i=o,t=e=e+r.join("")+i):(Oe=t,t=a)}else Oe=t,t=a;return t}function cr(){var t;return be.test(n.charAt(Oe))?(t=n.charAt(Oe),Oe++):(t=a,0===Ne&&ze(ye)),t}function lr(){var t,e,r,o;if(t=Oe,(e=function(){var t;return"//"===n.substr(Oe,2)?(t="//",Oe+=2):(t=a,0===Ne&&ze(pe)),t===a&&(35===n.charCodeAt(Oe)?(t="#",Oe++):(t=a,0===Ne&&ze(ge))),t}())!==a){for(r=[],o=cr();o!==a;)r.push(o),o=cr();r!==a?(Fe=t,t=e+=r.join("")):(Oe=t,t=a)}else Oe=t,t=a;return t}function fr(){var t;return Ne++,(t=lr())===a&&(t=sr()),Ne--,t===a&&0===Ne&&ze(me),t}function dr(){var t,e;for(t=[],(e=ir())===a&&(e=ar())===a&&(e=fr());e!==a;)t.push(e),(e=ir())===a&&(e=ar())===a&&(e=fr());return t}function hr(){var t;return(t=function(){var t,e,r,o,i;return t=Oe,e=Oe,(r=pr())!==a?(46===n.charCodeAt(Oe)?(o=".",Oe++):(o=a,0===Ne&&ze(_e)),o!==a&&(i=pr())!==a?e=r=[r,o,i]:(Oe=e,e=a)):(Oe=e,e=a),e!==a&&(Fe=t,e=parseFloat(e.join(""))),t=e}())===a&&(t=pr()),t}function pr(){var t,e,r;if(t=Oe,e=[],xe.test(n.charAt(Oe))?(r=n.charAt(Oe),Oe++):(r=a,0===Ne&&ze(we)),r!==a)for(;r!==a;)e.push(r),xe.test(n.charAt(Oe))?(r=n.charAt(Oe),Oe++):(r=a,0===Ne&&ze(we));else e=a;return e!==a&&(Fe=t,e=parseInt(e.join(""),10)),t=e}function gr(){var t,e;return Ne++,t=Oe,(e=function(){var t,e,r,o;return t=Oe,34===n.charCodeAt(Oe)?(e='"',Oe++):(e=a,0===Ne&&ze(te)),e!==a&&(r=br())!==a?(34===n.charCodeAt(Oe)?(o='"',Oe++):(o=a,0===Ne&&ze(te)),o!==a?(Fe=t,t=e=r):(Oe=t,t=a)):(Oe=t,t=a),t}())!==a&&(Fe=t,e=e),(t=e)===a&&(t=Oe,(e=br())!==a&&(Fe=t,e=e.toString()),t=e),Ne--,t===a&&(e=a,0===Ne&&ze(Ce)),t}function br(){var t;return"true"===n.substr(Oe,4).toLowerCase()?(t=n.substr(Oe,4),Oe+=4):(t=a,0===Ne&&ze(Ae)),t===a&&("false"===n.substr(Oe,5).toLowerCase()?(t=n.substr(Oe,5),Oe+=5):(t=a,0===Ne&&ze(Se)),t===a&&("on"===n.substr(Oe,2).toLowerCase()?(t=n.substr(Oe,2),Oe+=2):(t=a,0===Ne&&ze(ke)),t===a&&("off"===n.substr(Oe,3).toLowerCase()?(t=n.substr(Oe,3),Oe+=3):(t=a,0===Ne&&ze(Le)),t===a&&(48===n.charCodeAt(Oe)?(t="0",Oe++):(t=a,0===Ne&&ze(Ee)),t===a&&(49===n.charCodeAt(Oe)?(t="1",Oe++):(t=a,0===Ne&&ze(Te))))))),t}function yr(){var t,e;return t=Oe,(e=hr())!==a&&(Fe=t,e=e.toString()),(t=e)===a&&(t=Oe,"auto"===n.substr(Oe,4).toLowerCase()?(e=n.substr(Oe,4),Oe+=4):(e=a,0===Ne&&ze(Me)),e!==a&&(Fe=t,e=e.toLowerCase()),t=e),t}if((i=s())!==a&&Oe===n.length)return i;throw i!==a&&Oe<n.length&&ze({type:"end"}),Xe(De,Pe<n.length?n.charAt(Pe):null,Pe<n.length?Ge(Pe,Pe+1):Ge(Pe,Pe))}}})?n.apply(e,o):n)||(t.exports=i)},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(4)),a=n(r(0)),u=r(14),s=n(r(5)),c=r(35),l=o(r(22)),f=o(r(20)),d=o(r(42)),h=o(r(18)),p=o(r(44)),g=o(r(45)),b=o(r(46)),y=o(r(1)),m=o(r(10)),v=new c.Thing(0),x=Object.seal({arcRowHeight:38,arcGradient:0,arcEndX:0,wordWrapArcs:!1,mirrorEntitiesOnBottom:!1,regularArcTextVerticalAlignment:"middle",maxDepth:0,document:{},layers:{lifeline:{},sequence:{},notes:{},inline:{},watermark:{}}}),w=[];function _(t,e,r,n){var o;x.document=p.bootstrap(e,r,l.get(),d.getMarkerDefs(l.get(),t),n),x.mirrorEntitiesOnBottom=n.mirrorEntitiesOnBottom,x.regularArcTextVerticalAlignment=n.regularArcTextVerticalAlignment,m.init(x.document),x.layers={lifeline:(o=x.document).getElementById(l.get("_lifelines")),sequence:o.getElementById(l.get("_sequence")),notes:o.getElementById(l.get("_notes")),inline:o.getElementById(l.get("_arcspans")),watermark:o.getElementById(l.get("_watermark"))},x.maxDepth=t.depth,function(t,e){v=new c.Thing(e&&e.hscale),function(t,e){t.arcRowHeight=38,t.arcGradient=0,t.wordWrapArcs=!1,e.arcgradient&&(t.arcRowHeight=parseInt(e.arcgradient,10)+38,t.arcGradient=parseInt(e.arcgradient,10)+0);t.wordWrapArcs=Boolean(e.wordwraparcs)}(t,e)}(x,t.options)}function C(t){var e,r,n;S(t.entities,0,t.options),b.clear(v.getDims().height,x.arcRowHeight),e=t.arcs,r=t.entities,n=t.options,w=[],T(r,"arcrow",x.arcRowHeight,b.get(-1).y).forEach((function(t){x.layers.lifeline.appendChild(t)})),function(t,e,r){var n=0;t.forEach((function(t,o){t.every((function(t){return t.isVirtual}))?b.set(o,Math.max(b.get(o).height,L(t,e,r))):(b.set(o,Math.max(b.get(o).height,L(t,e,r)),n),n++)}))}(e,r,n),e.forEach((function(t,e){!function(t,e,r,n){var o="arcrow",i=[];t.forEach((function(t){var u={};switch(a.default(t.kind)){case"empty":u=j(t,b.get(e).y),"..."===t.kind&&(o="arcrowomit"),i.push({layer:x.layers.sequence,element:u});break;case"box":u=F(v.getOAndD(t.from,t.to),t,b.get(e).y,n),i.push({title:t.title,layer:x.layers.notes,element:u});break;case"inline_expression":u=E(t,b.get(e).y),i.push({layer:x.layers.notes,element:u}),w.push({arc:t,rownum:e});break;default:u=k(t,r,i,e,n)}})),T(r,o,b.get(e).height,b.get(e).y).forEach((function(t){x.layers.lifeline.appendChild(t)})),i.forEach((function(t){t.element&&(t.title&&t.element.appendChild(y.createTitle(t.title)),t.layer.appendChild(t.element))}))}(t,e,r,n)})),w.forEach((function(t){var e,r,n,o;x.layers.inline.appendChild((e=t,r=b.get(t.rownum).y,n=b.get(e.rownum).y,o=b.get(e.rownum+e.arc.numberofrows+1).y-n,e.arc.label="",function(t,e,r,n){var o=2*x.maxDepth*s.default.LINE_WIDTH,i=t.to-t.from+v.getDims().interEntitySpacing-2*s.default.LINE_WIDTH-o,a=t.from-(v.getDims().interEntitySpacing-2*s.default.LINE_WIDTH-o)/2,u=2*(x.maxDepth-e.depth)*s.default.LINE_WIDTH;return y.createRect({width:i+2*u,height:r||x.arcRowHeight-2*s.default.LINE_WIDTH,x:a-u,y:n},{class:"box inline_expression "+e.kind,color:e.linecolor,bgColor:e.textbgcolor})}(v.getOAndD(e.arc.from,e.arc.to),e.arc,o,r)))})),x.mirrorEntitiesOnBottom&&function(t,e){var r=b.getLast().y+(b.getLast().height+x.arcRowHeight)/2;T(t,"arcrow",x.arcRowHeight,r).forEach((function(t){x.layers.lifeline.appendChild(t)})),S(t,r+x.arcRowHeight/2,e)}(t.entities,t.options)}function A(t){var e,r,n=function(t){var e=g.determineDepthCorrection(t.depth,s.default.LINE_WIDTH),r=b.getLast(),n={width:t.entities.length*v.getDims().interEntitySpacing+e,height:Boolean(x.mirrorEntitiesOnBottom)?2*v.getDims().height+r.y+r.height+6:r.y+r.height/2+6,horizontaltransform:(v.getDims().interEntitySpacing+e-v.getDims().width)/2,autoscale:!!t.options&&!!t.options.width&&"auto"===t.options.width,verticaltransform:3,scale:1};return n.x=0-n.horizontaltransform,n.y=0-n.verticaltransform,n}(t);e=n,(r=x.document.getElementById(l.get("_background")))&&r.appendChild(y.createRect(e,{class:"bglayer"})),function(t){var e=x.document.getElementById(l.get()),r=x.document.getElementById(l.get("_body"));r&&e&&(r.setAttribute("transform","translate("+t.horizontaltransform+","+t.verticaltransform+") scale("+t.scale+","+t.scale+")"),t.autoscale&&!0===t.autoscale?y.updateSVG(e,{width:"100%",height:"100%",viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()}):y.updateSVG(e,{width:t.width.toString(),height:t.height.toString(),viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()}))}(n=function(t,e){t.watermark&&function(t,e){x.layers.watermark.appendChild(y.createDiagonalText(t,e,"watermark"))}(t.watermark,e);t.width&&"auto"!==t.width&&(e=g.scaleCanvasToWidth(t.width,e));return e}(t.options,n))}function S(t,e,r){x.layers.sequence.appendChild(v.renderEntities(t,e,r)),x.arcEndX=v.getDims().entityXHWM-v.getDims().interEntitySpacing+v.getDims().width}function k(t,e,r,n,o){var a=y.createGroup();return t.from&&t.to&&("*"===t.to?(!function(t,e,r,n,o){var i=0,a=t.label,u=v.getX(t.from);t.label="",e.forEach((function(e){var a={};e.name!==t.from&&(i=v.getX(e.name),a=M(t,u,i,n,o),r.push({layer:x.layers.sequence,element:a}))})),t.label=a}(t,e,r,n,o),a=h.createLabel(t,{x:0,y:b.get(n).y,width:x.arcEndX},Object.assign({alignAround:!0,ownBackground:!0},i.default(o))),r.push({title:t.title,layer:x.layers.sequence,element:a})):(a=M(t,v.getX(t.from),v.getX(t.to),n,o),r.push({title:t.title,layer:x.layers.sequence,element:a}))),a}function L(t,e,r){var n=0;return t.forEach((function(t){var o;switch(a.default(t.kind)){case"empty":o=j(t,0);break;case"box":o=F(v.getOAndD(t.from,t.to),t,0,r);break;case"inline_expression":o=E(t,0);break;default:var u=i.default(t);u.arcskip=0,o=k(u,e,[],0,r)}n=Math.max(n,m.getBBox(o).height+2*s.default.LINE_WIDTH)})),n}function E(t,e){var r=v.getOAndD(t.from,t.to),n=e>0,o=2*x.maxDepth*s.default.LINE_WIDTH,i=r.to-r.from+(v.getDims().interEntitySpacing-2*s.default.LINE_WIDTH)-7-s.default.LINE_WIDTH,a=r.from-(v.getDims().interEntitySpacing-3*s.default.LINE_WIDTH-o)/2-2*(x.maxDepth-t.depth)*s.default.LINE_WIDTH,u=y.createGroup();n||(t.label=t.kind+(t.label?": "+t.label:""));var c=h.createLabel(t,{x:a+s.default.LINE_WIDTH-i/2,y:e+x.arcRowHeight/4,width:i},{alignLeft:!0,ownBackground:!1,wordwraparcs:x.wordWrapArcs}),l=m.getBBox(c),f=Math.max(l.height+2*s.default.LINE_WIDTH,x.arcRowHeight/2-2*s.default.LINE_WIDTH),d=Math.min(l.width+2*s.default.LINE_WIDTH,i),p=y.createEdgeRemark({width:d-s.default.LINE_WIDTH+7,height:f,x:a,y:e},{class:"box inline_expression_label",color:t.linecolor,bgColor:t.textbgcolor,foldSize:7});return u.appendChild(p),u.appendChild(c),u}function T(t,e,r,n){return r<x.arcRowHeight&&(r=x.arcRowHeight),t.map((function(t){var o=y.createLine({xFrom:v.getX(t.name),yFrom:0-r/2+(n||0),xTo:v.getX(t.name),yTo:r/2+(n||0)},{class:e});return t.linecolor&&o.setAttribute("style","stroke:"+t.linecolor+";"),o}))}function j(t,e){return"---"===t.kind?function(t,e,r){var n=0,o=x.arcEndX,i="comment",a=y.createGroup();if(t.from&&t.to){var u=1*x.maxDepth*s.default.LINE_WIDTH,c=2*(x.maxDepth-t.depth)*s.default.LINE_WIDTH;n=e.from-(v.getDims().interEntitySpacing+2*s.default.LINE_WIDTH)/2-(c-u),o=e.to+(v.getDims().interEntitySpacing+2*s.default.LINE_WIDTH)/2+(c-u),i="inline_expression_divider"}var l=y.createLine({xFrom:n,yFrom:r,xTo:o,yTo:r},{class:i});a.appendChild(l),a.appendChild(O(t,e,r)),t.linecolor&&l.setAttribute("style","stroke:"+t.linecolor+";");return a}(t,v.getOAndD(t.from,t.to),e):O(t,v.getOAndD(t.from,t.to),e)}function M(t,e,r,n,o){var a,u=y.createGroup(),c="arc ";c+="<:>"===(a=t.kind)?"bidi ":"::"===a?"nodi ":"",c+=f.getAggregateClass(t.kind)+" "+f.getClass(t.kind);var p=[":>","::","<:>"].includes(t.kind),m=function(t,e,r){var n=b.get(t).y+e;if(r){var o=Math.floor(r),i=r-o,a=b.get(t).realRowNumber;n=b.getByRealRowNumber(a+o).y+i*(b.getByRealRowNumber(a+o+1).y-b.getByRealRowNumber(a+o).y)}return n}(n,x.arcGradient,t.arcskip);if(e===(r=g.determineArcXTo(t.kind,e,r))){u.appendChild(function(t,e,r,n,o,i){var a=x.arcRowHeight/5*2,u=v.getDims().interEntitySpacing/2,c={},h="arc "+f.getAggregateClass(t)+" "+f.getClass(t);if(n){c=y.createGroup();var p=y.createUTurn({x:e,y:o,width:u-2*s.default.LINE_WIDTH,height:a},o+r+a-2*s.default.LINE_WIDTH,{class:h,dontHitHome:"::"!==t,lineWidth:s.default.LINE_WIDTH}),g=y.createUTurn({x:e,y:o,width:u,height:a},o+r+a-s.default.LINE_WIDTH,{lineWidth:s.default.LINE_WIDTH}),b=y.createUTurn({x:e,y:o,width:u,height:a},o+r+a,{class:h,dontHitHome:"::"!==t,lineWidth:s.default.LINE_WIDTH});i&&p.setAttribute("style","stroke:"+i),d.getAttributes(l.get(),t,i,e,e).forEach((function(t){g.setAttribute(t.name,t.value)})),g.setAttribute("style","stroke:transparent;"),Boolean(i)&&b.setAttribute("style","stroke:"+i),c.appendChild(p),c.appendChild(b),c.appendChild(g),c.setAttribute("class",h)}else c=y.createUTurn({x:e,y:o,width:u,height:a},o+r+a,{class:h,dontHitHome:"-x"===t,lineWidth:s.default.LINE_WIDTH}),d.getAttributes(l.get(),t,i,e,e).forEach((function(t){c.setAttribute(t.name,t.value)}));return c}(t.kind,e,m-b.get(n).y-x.arcGradient,p,b.get(n).y,t.linecolor));var w=2*v.getDims().interEntitySpacing/3;u.appendChild(h.createLabel(t,{x:e+1.5*s.default.LINE_WIDTH-w/2,y:b.get(n).y-x.arcRowHeight/5-s.default.LINE_WIDTH/2,width:w},Object.assign({alignLeft:!0,alignAbove:!0,ownBackground:!0},i.default(o))))}else{var _=y.createLine({xFrom:e,yFrom:b.get(n).y,xTo:r,yTo:m},{class:c,doubleLine:p});d.getAttributes(l.get(),t.kind,t.linecolor,e,r).forEach((function(t){_.setAttribute(t.name,t.value)})),u.appendChild(_),u.appendChild(h.createLabel(t,{x:e,y:b.get(n).y+(m-b.get(n).y)/2,width:r-e},Object.assign({alignAround:!0,alignAbove:"above"===x.regularArcTextVerticalAlignment,ownBackground:!0},i.default(o))))}return u}function O(t,e,r){var n=0,o=x.arcEndX;return t.from&&t.to&&(n=e.from,o=e.to-e.from),h.createLabel(t,{x:n,y:r,width:o},{ownBackground:!0,wordwraparcs:x.wordWrapArcs})}function F(t,e,r,n){var o,i=2*x.maxDepth*s.default.LINE_WIDTH,a=t.to-t.from+v.getDims().interEntitySpacing-2*s.default.LINE_WIDTH-i,u=t.from-(v.getDims().interEntitySpacing-2*s.default.LINE_WIDTH-i)/2,c=y.createGroup(),l=h.createLabel(e,{x:u,y:r,width:a},n),f=m.getBBox(l),d=Math.max(f.height+2*s.default.LINE_WIDTH,x.arcRowHeight-2*s.default.LINE_WIDTH),p={width:a,height:d,x:u,y:r-d/2};switch(e.kind){case"rbox":o=y.createRBox(p,{class:"box rbox",color:e.linecolor,bgColor:e.textbgcolor});break;case"abox":o=y.createABox(p,{class:"box abox",color:e.linecolor,bgColor:e.textbgcolor});break;case"note":o=y.createNote(p,{class:"box note",color:e.linecolor,bgColor:e.textbgcolor,lineWidth:s.default.LINE_WIDTH});break;default:o=y.createRect(p,{class:"box",color:e.linecolor,bgColor:e.textbgcolor})}return c.appendChild(o),c.appendChild(l),c}e.clean=function(t,e){x.document=p.init(e),m.init(x.document),m.removeRenderedSVGFromElement(t)},e.render=function(t,e,r,n){var o=Object.freeze(u.flatten(t)),i=function(t,e){return t.document.getElementById(e)||t.document.body}(e,r);return l.setPrefix(r),_(o,e,i,n||{}),C(o),A(o),m.webkitNamespaceBugWorkaround(i.innerHTML)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){return Object.assign({wordwraparcs:!1,wordwrapentities:!0,wordwrapboxes:!0},t||{})}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(5)),a=o(r(18)),u=o(r(1)),s=o(r(10)),c=function(){function t(t){this.interEntitySpacing=160,this.height=34,this.width=100,this.entityXHWM=0,this.entity2x={},t&&(this.interEntitySpacing=160*t,this.width=100*t)}return t.prototype.getX=function(t){return this.entity2x[t]},t.prototype.getDims=function(){return{interEntitySpacing:this.interEntitySpacing,height:this.height,width:this.width,entityXHWM:this.entityXHWM}},t.prototype.getOAndD=function(t,e){return{from:this.getX(t)<this.getX(e)?this.getX(t):this.getX(e),to:this.getX(e)>this.getX(t)?this.getX(e):this.getX(t)}},t.prototype.renderEntities=function(t,e,r){var n=this,o=u.createGroup();return this.entityXHWM=0,this.height=this.getMaxEntityHeight(t,r)+2*i.default.LINE_WIDTH,t.forEach((function(t){o.appendChild(n.renderEntity(t,n.entityXHWM,e,r)),n.setX(t,n.entityXHWM),n.entityXHWM+=n.interEntitySpacing})),o},t.prototype.setX=function(t,e){this.entity2x[t.name]=e+this.width/2},t.prototype.getNoEntityLines=function(t,e,r){return a.splitLabel(t,"entity",this.width,e,r).length},t.prototype.sizeEntityBoxToLabel=function(t,e){var r=Math.min(s.getBBox(t).width+4*i.default.LINE_WIDTH,this.interEntitySpacing/3+e.width);return r>=e.width&&(e.x-=(r-e.width)/2,e.width=r),e},t.prototype.renderEntity=function(t,e,r,n){var o=u.createGroup(),i={x:e||0,y:r||0,width:this.width,height:this.height},s=a.createLabel(Object.assign({kind:"entity"},t),Object.assign({},i,{y:i.y+i.height/2}),n);return o.appendChild(u.createRect(this.sizeEntityBoxToLabel(s,i),{class:"entity",color:t.linecolor,bgColor:t.textbgcolor})),o.appendChild(s),o},t.prototype.getMaxEntityHeight=function(t,e){var r=this,n=t[0],o=2;return t.forEach((function(t){var a=r.getNoEntityLines(t.label,i.default.FONT_SIZE,e);a>o&&(o=a,n=t)})),o>2?Math.max(this.height,s.getBBox(this.renderEntity(n,0,0,e)).height):this.height},t}();e.Thing=c},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(2)),i=n(r(6));e.createDoubleLine=function(t,e){var r=e.lineWidth||1,n=r,a=e?e.class:"",u=i.getDirection(t),s=i.determineEndCorrection(t,a,r),c=i.determineStartCorrection(t,a,r),l=(t.xTo-t.xFrom+s-c).toString(),f=(t.yTo-t.yFrom).toString(),d=o.pathPoint2String("l",u.signX,u.dy),h=o.pathPoint2String("l",l,f);return o.createPath(o.pathPoint2String("M",t.xFrom,t.yFrom-7.5*r*u.dy)+d+o.pathPoint2String("M",t.xFrom+c,t.yFrom-n)+h+o.pathPoint2String("M",t.xFrom+c,t.yFrom+n)+h+o.pathPoint2String("M",t.xTo-u.signX,t.yTo+7.5*r*u.dy)+d,e)},e.createNote=function(t,e){var r=e&&e.lineWidth||1,n=Math.max(9,Math.min(4.5*r,t.height/2)),i=n.toString(10);return o.createPath(o.pathPoint2String("M",t.x,t.y)+o.pathPoint2String("l",t.width-n,0)+o.pathPoint2String("l",0,i)+o.pathPoint2String("l",i,0)+o.pathPoint2String("m",-i,-i)+o.pathPoint2String("l",i,i)+o.pathPoint2String("l",0,t.height-n)+o.pathPoint2String("l",-t.width,0)+o.pathPoint2String("l",0,-t.height)+"z",e)},e.createRBox=function(t,e){var r=Object.assign({rx:6,ry:6},e);return o.createRect(t,r)},e.createABox=function(t,e){return o.createPath(o.pathPoint2String("M",t.x,t.y+t.height/2)+o.pathPoint2String("l",3,-t.height/2)+o.pathPoint2String("l",t.width-6,0)+o.pathPoint2String("l",3,t.height/2)+o.pathPoint2String("l",-3,t.height/2)+o.pathPoint2String("l",-(t.width-6),0)+"z",e)},e.createEdgeRemark=function(t,e){var r=e&&e.foldSize?e.foldSize:7,n=Object.assign({class:null,color:null,bgColor:null},e);return o.createPath(o.pathPoint2String("M",t.x,t.y)+o.pathPoint2String("l",t.width,0)+o.pathPoint2String("l",0,t.height-r)+o.pathPoint2String("l",-r,r)+o.pathPoint2String("l",-(t.width-r),0),n)},e.createSingleLine=o.createSingleLine,e.createRect=o.createRect},function(t,e,r){"use strict";e.__esModule=!0,e.SVGNS="http://www.w3.org/2000/svg",e.XLINKNS="http://www.w3.org/1999/xlink";var n={};function o(t,e,r){return Boolean(r)&&t.setAttribute(e,r),t}function i(t,e,r,n){return Boolean(n)&&t.setAttributeNS(e,r,n),t}function a(t,e){return Object.keys(e||{}).forEach((function(r){o(t,r,e[r])})),t}e.setAttribute=o,e.setAttributeNS=i,e.setAttributes=a,e.setAttributesNS=function(t,e,r){return Object.keys(r||{}).forEach((function(n){i(t,e,n,r[n])})),t},e.createElement=function(t,r){return a(n.createElementNS(e.SVGNS,t),r)},e.createTextNode=function(t){return n.createTextNode(t)},e.init=function(t){n=t}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){return 0-360*Math.atan(t.height/t.width)/(2*Math.PI)}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=r(40),a=r(21),u=n(r(9)),s=o(r(2)),c=o(r(6));e.createSingleLine=function(t,e){void 0===e&&(e={});var r=c.getDirection(t);return s.createPath(s.pathPoint2String("M",t.xFrom,t.yFrom)+s.pathPoint2String("L",u.default(t.xFrom+r.signX*Math.sqrt(1/(1+Math.pow(r.dy,2))),2),t.yFrom+r.signY*(Math.abs(r.dy)===1/0?1:u.default(Math.sqrt(Math.pow(r.dy,2)/(1+Math.pow(r.dy,2))),2)))+a.line2CurveString(t),e)},e.createNote=function(t,e){var r=e&&e.lineWidth||1,n=Math.max(9,Math.min(4.5*r,t.height/2)),o=s.createGroup();return o.appendChild(s.createPath(i.renderNotePathString(t,n),e)),e.bgColor="transparent",o.appendChild(s.createPath(i.renderNoteCornerString(t,n),e)),o},e.createRect=function(t,e){return s.createPath(i.rbox2CurveString(t,0),e)},e.createABox=function(t,e){return s.createPath(i.abox2CurveString(t,3),e)},e.createRBox=function(t,e){return s.createPath(i.rbox2CurveString(t,6),e)},e.createEdgeRemark=function(t,e){var r=e&&e.lineWidth||1,n=s.createGroup(),o=e&&e.foldSize?e.foldSize:7,a=e&&e.color?e.color:"black";e.color="transparent!important";var u=s.createPath(s.pathPoint2String("M",t.x,t.y+r/2)+s.pathPoint2String("L",t.x+t.width,t.y+r/2)+s.pathPoint2String("L",t.x+t.width,t.y+t.height-o)+s.pathPoint2String("L",t.x+t.width-o,t.y+t.height)+s.pathPoint2String("L",t.x,t.y+t.height)+"z",e);e.bgColor="transparent",e.color=a;var c=s.createPath(i.edgeRemark2CurveString(t,o),e);return n.appendChild(u),n.appendChild(c),n},e.createDoubleLine=function(t,e){return s.createPath(i.doubleLine2CurveString(t,e),{class:e.class})}},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(2)),i=n(r(6)),a=r(21);e.renderNotePathString=function(t,e){return o.pathPoint2String("M",t.x,t.y)+a.line2CurveString({xFrom:t.x,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.pathPoint2String("L",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+e})+o.pathPoint2String("L",t.x+t.width,t.y+e)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+t.width,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height})+o.pathPoint2String("L",t.x,t.y+t.height)+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height,xTo:t.x,yTo:t.y})+o.pathPoint2String("L",t.x,t.y)+"z"},e.renderNoteCornerString=function(t,e){return o.pathPoint2String("M",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y+e})+o.pathPoint2String("L",t.x+t.width-e,t.y+e)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+e})+o.pathPoint2String("L",t.x+t.width,t.y+e)},e.abox2CurveString=function(t,e){return o.pathPoint2String("M",t.x,t.y+t.height/2)+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height/2,xTo:t.x+e,yTo:t.y})+o.pathPoint2String("L",t.x+e,t.y)+a.line2CurveString({xFrom:t.x+e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.pathPoint2String("L",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height/2})+o.pathPoint2String("L",t.x+t.width,t.y+t.height/2)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height/2,xTo:t.x+t.width-e,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+t.width-e,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x+e,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+e,t.y+t.height)+a.line2CurveString({xFrom:t.x+e,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height/2})+"z"},e.rbox2CurveString=function(t,e){return o.pathPoint2String("M",t.x,t.y+e)+a.points2CurveString([{controlX:t.x,controlY:t.y,x:t.x+e,y:t.y}])+a.line2CurveString({xFrom:t.x+e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.pathPoint2String("L",t.x+t.width-e,t.y)+a.points2CurveString([{controlX:t.x+t.width,controlY:t.y,x:t.x+t.width,y:t.y+e}])+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height-e})+o.pathPoint2String("L",t.x+t.width,t.y+t.height-e)+a.points2CurveString([{controlX:t.x+t.width,controlY:t.y+t.height,x:t.x+t.width-e,y:t.y+t.height}])+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x+e,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+e,t.y+t.height)+a.points2CurveString([{controlX:t.x,controlY:t.y+t.height,x:t.x,y:t.y+t.height-e}])+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height-e,xTo:t.x,yTo:t.y+e})+"z"},e.doubleLine2CurveString=function(t,e){var r=e.lineWidth||1,n=r,u=e?e.class:"",s=i.getDirection(t),c=i.determineEndCorrection(t,u,r),l=i.determineStartCorrection(t,u,r);return o.pathPoint2String("M",t.xFrom,t.yFrom-7.5*r*s.dy)+o.pathPoint2String("l",s.signX,s.dy)+o.pathPoint2String("M",t.xFrom+l,t.yFrom-n)+a.line2CurveString({xFrom:t.xFrom+l,yFrom:t.yFrom-n,xTo:t.xTo+c,yTo:t.yTo-n})+o.pathPoint2String("M",t.xFrom+l,t.yFrom+n)+a.line2CurveString({xFrom:t.xFrom+l,yFrom:t.yFrom+n,xTo:t.xTo+c,yTo:t.yTo+n})+o.pathPoint2String("M",t.xTo-s.signX,t.yTo+7.5*r*s.dy)+o.pathPoint2String("l",s.signX,s.dy)},e.edgeRemark2CurveString=function(t,e){return o.pathPoint2String("M",t.x+t.width,t.y)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height-e})+o.pathPoint2String("L",t.x+t.width,t.y+t.height-e)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height-e,xTo:t.x+t.width-e,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+t.width-e,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x-1,yTo:t.y+t.height})+o.pathPoint2String("L",t.x-1,t.y+t.height)}},function(t,e,r){(function(e){var r=/^\[object .+?Constructor\]$/,n="object"==typeof e&&e&&e.Object===Object&&e,o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();var a,u=Array.prototype,s=Function.prototype,c=Object.prototype,l=i["__core-js_shared__"],f=(a=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",d=s.toString,h=c.hasOwnProperty,p=c.toString,g=RegExp("^"+d.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=u.splice,y=S(i,"Map"),m=S(Object,"create");function v(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function x(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function w(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function _(t,e){for(var r,n,o=t.length;o--;)if((r=t[o][0])===(n=e)||r!=r&&n!=n)return o;return-1}function C(t){return!(!L(t)||(e=t,f&&f in e))&&(function(t){var e=L(t)?p.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?g:r).test(function(t){if(null!=t){try{return d.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function A(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function S(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return C(r)?r:void 0}function k(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new(k.Cache||w),r}function L(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}v.prototype.clear=function(){this.__data__=m?m(null):{}},v.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},v.prototype.get=function(t){var e=this.__data__;if(m){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return h.call(e,t)?e[t]:void 0},v.prototype.has=function(t){var e=this.__data__;return m?void 0!==e[t]:h.call(e,t)},v.prototype.set=function(t,e){return this.__data__[t]=m&&void 0===e?"__lodash_hash_undefined__":e,this},x.prototype.clear=function(){this.__data__=[]},x.prototype.delete=function(t){var e=this.__data__,r=_(e,t);return!(r<0)&&(r==e.length-1?e.pop():b.call(e,r,1),!0)},x.prototype.get=function(t){var e=this.__data__,r=_(e,t);return r<0?void 0:e[r][1]},x.prototype.has=function(t){return _(this.__data__,t)>-1},x.prototype.set=function(t,e){var r=this.__data__,n=_(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},w.prototype.clear=function(){this.__data__={hash:new v,map:new(y||x),string:new v}},w.prototype.delete=function(t){return A(this,t).delete(t)},w.prototype.get=function(t){return A(this,t).get(t)},w.prototype.has=function(t){return A(this,t).has(t)},w.prototype.set=function(t,e){return A(this,t).set(t,e),this},k.Cache=w,t.exports=k}).call(this,r(8))},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(43)),i=n(r(17)),a={"->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"}],marker:{name:"signal"}},"<->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"},{name:"marker-start",value:"url(#{{id}}{{signal-marker-start}}-{{color}})"}],marker:{name:"signal"}},"=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},">>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},"..":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"--":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"==":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"::":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},":>":{attributes:[{name:"style",value:"stroke:{{color}};"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<:>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},"-x":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}lost-{{color}})"}],marker:{name:"lost",end:""}}},u={signal:{variants:[{name:"",path:"M9,3 l-8, 2"},{name:"-u",path:"M9,3 l-8,-2"},{name:"-l",path:"M9,3 l 8, 2"},{name:"-lu",path:"M9,3 l 8,-2"}]},method:{variants:[{name:"",path:"1,1  9,3  1,5"},{name:"-l",path:"17,1 9,3 17,5"}]},callback:{variants:[{name:"",path:"M 1,1 l 8,2 l-8,2"},{name:"-l",path:"M17,1 l-8,2 l 8,2"}]},lost:{variants:[{name:"",path:"M7,0 l5,6 M7,6 l5,-6"}]}};function s(t,e,r){return e&&r&&["<->","->"].includes(t)?e<r?"signal":"signal-u":""}function c(t,e,r){return"<->"===t&&e<=r?"signal-l":"signal-lu"}function l(t,e){return a[i.default(t)].marker.name+(Boolean(e)?" "+e:" black")}function f(t,e){function r(e){f(t,e)}return Array.isArray(e)&&e.forEach(r),e.arcs&&e.arcs.forEach(r),e.kind&&a[i.default(e.kind)]&&a[i.default(e.kind)].marker&&!t.includes(l(e.kind,e.linecolor))&&t.push(l(e.kind,e.linecolor)),t}function d(t){return{kind:t.split(" ")[0],color:t.split(" ")[1]}}e.getAttributes=function(t,e,r,n,o){var i=[];return a[e]&&a[e].attributes&&(i=a[e].attributes.map((function(i){return{name:i.name,value:i.value.replace(/\{\{signal-marker-end\}\}/g,s(e,n,o)).replace(/\{\{signal-marker-start\}\}/g,c(e,n,o)).replace(/\{\{id\}\}/g,t).replace(/\{\{color\}\}/g,r||"black")}}))),i},e.getMarkerDefs=function(t,e){return o.default(function(t){return t.arcs.reduce(f,[]).sort().map(d)}(e).map((function(e){return u[e.kind].variants.map((function(r){return{name:t+e.kind+r.name+"-"+e.color,path:r.path,color:e.color,type:e.kind}}))})))}},function(t,e,r){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e,n="object"==typeof self&&self&&self.Object===Object&&self,o=r||n||Function("return this")();function i(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var a=Object.prototype,u=a.hasOwnProperty,s=a.toString,c=o.Symbol,l=a.propertyIsEnumerable,f=c?c.isConcatSpreadable:void 0;function d(t){return h(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?s.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}(t)}(t)&&u.call(t,"callee")&&(!l.call(t,"callee")||"[object Arguments]"==s.call(t))}(t)||!!(f&&t&&t[f])}var h=Array.isArray;t.exports=function(t){return(t?t.length:0)?function t(e,r,n,o,a){var u=-1,s=e.length;for(n||(n=d),a||(a=[]);++u<s;){var c=e[u];r>0&&n(c)?r>1?t(c,r-1,n,o,a):i(a,c):o||(a[a.length]=c)}return a}(t,1):[]}}).call(this,r(8))},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=n(r(1)),a=o(r(5)),u=r(13),s={};function c(t,e){var r=s.createElement("style");return r.setAttribute("type","text/css"),r.appendChild(s.createTextNode(function(t,e){return(r=d(t.additionalTemplate)||{},n=t.styleAdditions,(r.cssBefore||"")+u.baseTemplate+(r.cssAfter||"")+(n||"")).replace(/<%=fontSize%>/g,a.default.FONT_SIZE).replace(/<%=lineWidth%>/g,a.default.LINE_WIDTH).replace(/<%=id%>/g,e);var r,n}(t,e))),r}function l(t,e,r){var n=i.createDefs();return n.appendChild(c(r,t)),n=function(t,e){return e.forEach((function(e){"method"===e.type?t.appendChild(i.createMarkerPolygon(e.name,e.path,e.color)):t.appendChild(i.createMarkerPath(e.name,e.path,e.color))})),t}(n,e)}function f(t){return i.init(t.document,{LINE_WIDTH:a.default.LINE_WIDTH,FONT_SIZE:a.default.FONT_SIZE}),t.document}function d(t){return u.namedStyles.find((function(e){return e.name===t}))}e.init=f,e.bootstrap=function(t,e,r,n,o){s=f(t);var a,u,c=i.createSVG(r,r,function(t){var e="",r=d(t.additionalTemplate);Boolean(r)&&(e=r.renderMagic);return e}(o));return Boolean(o.source)&&c.appendChild(function(t,e){var r=i.createDesc();return r.appendChild(t.document.createTextNode("\n\n# Generated by mscgen_js - https://sverweij.github.io/mscgen_js\n"+e)),r}(t,o.source)),c.appendChild(l(r,n,o)),c.appendChild((a=r,(u=i.createGroup(a+"_body")).appendChild(i.createGroup(a+"_background")),u.appendChild(i.createGroup(a+"_arcspans")),u.appendChild(i.createGroup(a+"_lifelines")),u.appendChild(i.createGroup(a+"_sequence")),u.appendChild(i.createGroup(a+"_notes")),u.appendChild(i.createGroup(a+"_watermark")),u)),e.appendChild(c),s}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(4));e.scaleCanvasToWidth=function(t,e){var r=o.default(e);return r.scale=t/r.width,r.width*=r.scale,r.height*=r.scale,r.horizontaltransform*=r.scale,r.verticaltransform*=r.scale,r.x=0-r.horizontaltransform,r.y=0-r.verticaltransform,r},e.determineDepthCorrection=function(t,e){return t?2*(t+1)*e*2:0},e.determineArcXTo=function(t,e,r){return"-x"===t?e+.75*(r-e):r}},function(t,e,r){"use strict";e.__esModule=!0;var n=[],o=0,i=0;function a(t){return n[t]?n[t]:{y:o+1.5*i+t*i,height:i,realRowNumber:n.length-1}}function u(){return a(n.length-1)}e.get=a,e.getLast=u,e.clear=function(t,e){n=[],o=t,i=e},e.getByRealRowNumber=function(t){var e=n.find((function(e){return e.realRowNumber===t}));return void 0===e&&(e=u()),e},e.set=function(t,e,r){void 0===r&&(r=-1);var o=a(t-1);n[t]={y:o.y+(o.height+e)/2,height:e,realRowNumber:r}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(4)),a=n(r(0)),u=n(r(15)),s=o(r(14)),c=n(r(19)),l=o(r(48)),f=0;function d(t,e){return e+'="'+function(t){var e=c.default(t.replace(/"/g,'\\"'),40),r=e.slice(0,-1).reduce((function(t,e){return t+e+"\n"}),"");return r+=e.slice(-1)}(t)+'"'}function h(t,e,r){Boolean(e)&&t.push(d(e,r))}function p(t){return["label","color","fontcolor","fillcolor"].filter((function(e){return Boolean(t[e])})).map((function(e){return d(t[e],e)}))}function g(t){var e="";return e=t.slice(0,-1).reduce((function(t,e){return t+e+", "})," ["),e+=t.slice(-1)+"]"}function b(t){return'"'+t+'"'}function y(t){return t.reduce((function(t,e){return t+"  "+function(t){return b(t.name)+g(p(t))}(e)+";\n"}),"")}function m(t,e,r){var n="",o=a.default(t.kind);return n+="box"===o?function(t,e,r){var n="",o="box"+e.toString();n+=o;var i=p(t);return h(i,l.getStyle(t.kind),"style"),h(i,l.getShape(t.kind),"shape"),n+=g(i)+"\n  "+r,h(i=[],"dotted","style"),h(i,"none","dir"),n+=o+" -- {"+b(t.from)+","+b(t.to)+"}",n+=g(i)}(t,e,r):function(t,e,r){var n="";t.label=function(t,e){return e?"("+t+") "+e:"("+t+")"}(r,t.label);var o=p(t);switch(h(o,l.getStyle(t.kind),"style"),e){case"directional":h(o,l.getArrow(t.kind),"arrowhead");break;case"bidirectional":h(o,l.getArrow(t.kind),"arrowhead"),h(o,l.getArrow(t.kind),"arrowtail"),h(o,"both","dir");break;case"nondirectional":h(o,"none","dir")}return t.arcs||(n+=b(t.from)+" ",n+="--",n+=" "+b(t.to),n+=g(o)),n}(t,o,e)}function v(t,e){return t.reduce((function(t,r){return t+r.reduce((function(t,r){return t+function(t,e){var r="";return t.from&&t.to&&(r+="  "+e+m(t,++f,e)+"\n",t.arcs&&(r+="  "+e+"subgraph cluster_"+f.toString()+"{",r+="\n  "+e+' label="'+t.kind+": "+t.label+'" labeljust="l"\n',r+=v(t.arcs,e+"  "),r+="  "+e+"}\n")),r}(r,e)}),"")}),"")}function x(t){return t.arcs&&t.arcs.forEach((function(e,r){e.filter((function(t){return"*"===t.to})).forEach((function(n,o){var a=i.default(n);delete t.arcs[r][o];var u=function(t,e){return t.filter((function(t){return e.from!==t.name})).map((function(t){return e.to=t.name,i.default(e)}))}(t.entities,a);e[o]=u.shift(),t.arcs[r]=e.concat(u)}))})),t}e.explodeBroadcasts=x,e.render=function(t){var e=function(t){return x(u.default(t,[s.nameAsLabel],[s.swapRTLArc,s.overrideColors]))}(i.default(t)),r="/* Sequence chart represented as a directed graph\n * in the graphviz dot language (http://graphviz.org/)\n *\n * Generated by mscgen_js (https://sverweij.github.io/mscgen_js)\n */\n\ngraph {\n";return r+="  rankdir=LR\n",r+="  splines=true\n",r+="  ordering=out\n",r+='  fontname="Helvetica"\n',r+='  fontsize="9"\n',r+='  node [style=filled, fillcolor=white fontname="Helvetica", fontsize="9" ]\n',r+='  edge [fontname="Helvetica", fontsize="9", arrowhead=vee, arrowtail=vee, dir=forward]\n',r+="\n",r+=y(e.entities)+"\n",e.arcs&&(f=0,r+=v(e.arcs,"")),r+"}"}},function(t,e,r){"use strict";e.__esModule=!0;var n=Object.freeze({"->":"rvee","<->":"rvee","=>":"normal","<=>":"normal","-x":"oinvonormal"}),o=Object.freeze({box:"box",abox:"hexagon",rbox:"box",note:"note"}),i=Object.freeze({">>":"dashed","<<>>":"dashed","..":"dashed",":>":"bold","<:>":"bold","::":"bold",rbox:"rounded"});e.getArrow=function(t){return n[t]},e.getShape=function(t){return o[t]},e.getStyle=function(t){return i[t]}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e.__esModule=!0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){t.prototype.init.call(this,{program:{opener:" * \\msc\n",closer:" * \\endmsc"},option:{opener:" *   ",separator:",\n *   ",closer:";\n * \n"},entity:{opener:" *   ",separator:",\n *   ",closer:";\n * \n"},arcline:{opener:" *   ",separator:",\n *   ",closer:";\n"},inline:{opener:";\n",closer:" * #"}})},e.prototype.renderComments=function(){return""},e}(r(23).MscGenAdaptor);e.render=function(t){return new i(!1).render(t)}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e.__esModule=!0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){t.prototype.init.call(this,{supportedEntityAttributes:["label"],supportedArcAttributes:["label"],program:{opener:"",closer:""},option:{opener:"",separator:","+this.eol,closer:";"+this.eol+this.eol},entity:{opener:"",separator:","+this.eol,closer:";"+this.eol+this.eol},arcline:{opener:"",separator:","+this.eol,closer:";"+this.eol},inline:{opener:" {"+this.eol,closer:"}"},attribute:{opener:"",separator:"",closer:""}})},e.prototype.renderEntityName=function(t){return this.entityNameIsQuotable(t)?'"'+t+'"':t},e.prototype.renderAttribute=function(t){var e="";return t.name&&t.value&&(e+=' : "'+t.value+'"'),e},e.prototype.entityNameIsQuotable=function(t){var e=t.match(/[^;, "\t\n\r=\-><:{*]+/gi);return e?1!==e.length:"*"!==t},e}(r(11).XuAdaptor);e.render=function(t){return(new i).render(t)}}])}));